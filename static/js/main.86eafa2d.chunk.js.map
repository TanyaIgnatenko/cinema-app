{"version":3,"sources":["assets/images/sad-icon.svg","assets/images/light-arrow-left.svg","assets/images/dark-arrow-left.svg","assets/images/dark-cross-icon.svg","assets/images/light-cross-icon.svg","assets/images/down-arrow.svg","assets/images/search-icon.svg","assets/images/congrat-icon.svg","assets/images/cropped-screen.svg","components/app-components/navbar/NavLink/NavLink.js","components/base-components/Button/Button.js","utils/time.js","constants.js","ducks/ui/modals/actions.js","ducks/ui/modals/action-types.js","components/app-components/navbar/NavBar.js","components/app-components/bestDeals/BestDealsPage/BestDealsPage.js","components/base-components/Gallery/GalleryViewer/GalleryViewer.js","components/base-components/Gallery/Gallery.js","components/app-components/common/Spinner/Spinner.js","components/app-components/common/ErrorPage/ErrorPage.js","components/base-components/Tooltip/Tooltip.js","components/app-components/movies/utils/movies.js","components/app-components/movies/common/Seances/Seances.js","components/app-components/common/NoScheduleComponent/NoScheduleComponent.js","components/app-components/common/NotFoundComponent/NotFoundComponent.js","ducks/data/movies/selectors.js","ducks/data/movies/action-types.js","ducks/data/movies/actions.js","components/app-components/movies/movie-page/SeancesList/SeancesList.js","components/base-components/ButtonNext/ButtonNext.js","components/base-components/ButtonPrev/ButtonPrev.js","utils/date.js","components/base-components/Calendar/Calendar.js","utils/array.js","components/base-components/ToggleIcon/ToggleIcon.js","components/base-components/Toggle/Toggle.js","components/base-components/DateFilter/DateInput/DateInput.js","components/base-components/DateFilter/FrequentDateButton/FrequentDateButton.js","components/base-components/DateFilter/DateFilter.js","components/base-components/DateFilter/DateFilterContext.js","components/app-components/movies/movies-page/DateFilter/DateFilter.js","components/app-components/common/NotFoundPage/NotFoundPage.js","components/base-components/RangeSlider/SliderWireframe/SliderWireframe.js","components/base-components/RangeSlider/utils/array.js","components/base-components/RangeSlider/utils/clamp.js","components/base-components/RangeSlider/SelectedRange/SelectedRange.js","components/base-components/RangeSlider/Handle/Handle.js","components/base-components/RangeSlider/RangeSlider.js","components/app-components/movies/movie-page/MoviePage.js","components/app-components/movies/movies-page/Search/Search.js","components/app-components/movies/movies-page/Movie/Movie.js","utils/routes.js","components/app-components/movies/movies-page/MoviesList/MoviesList.js","components/app-components/movies/movies-page/MoviesPage.js","components/app-components/routes/Routes.js","components/base-components/Modal/Modal.js","components/app-components/common/StatusModal/StatusModal.js","components/app-components/seanceTickets/ReservationFailureModal/ReservationFailureModal.js","components/app-components/auth/NotAvailableAuthModal/NotAvailableAuthModal.js","components/app-components/ticketsPayment/PaymentSuccessModal/PaymentSuccessModal.js","hooks/useInputState.js","ducks/data/tickets/selectors.js","ducks/data/tickets/action-types.js","ducks/data/tickets/actions.js","components/app-components/ticketsPayment/TicketsPaymentPage/TicketsPaymentPage.js","hooks/useFocusState.js","components/app-components/ticketsPayment/TicketsPaymentModal/TicketsPaymentModal.js","components/app-components/seanceTickets/SeanceTicketsPage/SeanceTicketsPage.js","components/app-components/seanceTickets/SeanceTicketsModal/SeanceTicketsModal.js","components/app-components/ticketsPayment/PaymentFailureModal/PaymentFailureModal.js","ducks/ui/modals/selectors.js","components/base-components/ModalManager/ModalManager.js","components/base-components/ScrollToTop/ScrollToTop.js","components/app-components/app/App.js","ducks/data/movies/reducer.js","ducks/data/tickets/reducer.js","ducks/ui/modals/reducer.js","store/rootReducer.js","mocks/movies.js","ducks/data/movies/services.js","ducks/data/movies/sagas.js","ducks/data/tickets/services.js","ducks/data/tickets/sagas.js","store/rootSaga.js","store/store.js","index.js"],"names":["module","exports","__webpack_require__","p","NavLink","_ref","to","location","children","linkClassName","linkBoxClassName","activeLinkClassName","isActive","activeLinkBoxClassName","Object","objectWithoutProperties","pathname","react_default","a","createElement","data-testid","className","classNames","active-link-box","react_router_dom","active-link","defaultProps","withRouter","Button","props","assign","type","MINUTES_IN_HOUR","toTimeLabel","minutes","hours","Math","floor","minutesRest","concat","ROUTE","MOVIES","MOVIE","SOON_MOVIES","BEST_DEALS","MODAL","SEANCE_TICKETS","TICKETS_PAYMENT","PAYMENT_SUCCESS","NOT_AVAILABLE_AUTH","RESERVATION_FAILURE","PAYMENT_FAILURE","STATUS","SUCCESS","ERROR","REQUEST","IDLE","SEANCES_TIME_RANGE","start","end","RUSSIAN_CURRENCY_SYMBOL","showModal","modalType","modalProps","closeModal","mapDispatchToProps","connect","showNotAvailableAuthModal","useCallback","navbar_NavLink_NavLink","base_components_Button_Button","onClick","BestDealsPage","alt","src","sadnessIcon","GalleryViewer","items","selectedItemIdx","selectItem","closeViewer","es2015","onEscapeKey","length","aria-label","tabIndex","crossIcon","url","description","MAX_PREVIEWS_COUNT","Gallery","hasAtLeastOneItem","Boolean","primaryItem","itemsWithPreviewsCount","min","hasAtLeastOneItemWithPreview","itemsWithPreviews","slice","hiddenItems","hasAtLeastOneHiddenItem","_useState","useState","_useState2","slicedToArray","setSelectedItem","_useState3","_useState4","showItem","setShowItem","handleItemClick","itemIdx","Fragment","map","itemWithPreview","idx","key","Gallery_GalleryViewer_GalleryViewer","Spinner","message","reloadPage","window","reload","ErrorPage","Tooltip","keepSeancesAt","date","timeRange","seances","hasAtLeastOneSeance","seancesFormats","keys","filteredSeances","momentRange","moment","add","forEach","format","filter","seance","unix","startTime","isBetween","hasStarted","now","isSameOrBefore","Seances","movieName","goToSeanceTicketsPage","objectSpread","disabled","base_components_Tooltip_Tooltip","price","NoScheduleComponent","NotFoundComponent","resetSettings","selectMovies","state","movies","selectSelectedMovie","selectedMovie","selectSelectedMovieSeances","selectedMovieSeances","selectMoviesError","error","FETCH_MOVIES","FETCH_MOVIE","FETCH_SEANCES","fetchMoviesSuccess","fetchMoviesError","fetchMovieSuccess","movie","fetchMovieError","fetchSeancesSuccess","fetchSeancesError","SEANCES_STATE","LOADING","SCHEDULE_NOT_EXIST","NOT_FOUND","FOUND","SeancesList","selectedRange","selectedDate","resetFiltersSettings","selectedSeances","useMemo","_","isEmpty","getSeancesState","common_NoScheduleComponent_NoScheduleComponent","common_NotFoundComponent_NotFoundComponent","common_Seances_Seances","fetchSeances","movieId","_ref2","useEffect","SeancesList_SeancesList","common_Spinner_Spinner","ButtonNext","lightArrowLeft","darkArrowLeft","ButtonPrev","toMoment","toAppDateFormat","momentDate","getTodayStartMoment","startOf","getTodayDate","getTomorrowDate","getDateAfterTomorrow","getEndDateOfSixthMonthFromCurrent","endOf","bindTimeToDayMoment","time","dayMoment","clone","duration","momentToUnixTime","extendMoment","Moment","Calendar","selectedMonth","_this","initialMonth","handleNextMonthClick","setState","nextMonthMoment","handlePrevMonthClick","prevMonthMoment","subtract","handleDateSelected","_this$props","onDateSelected","onDateLeave","closeOnSelect","closeCalendar","handleClickOutside","_this2","this","_this$props2","minDate","maxDate","onDateEnter","selectedMonthMoment","startMonthDate","endMonthDate","monthDates","startDate","endDate","currentDate","dateRange","push","startEmptyDays","step","arguments","undefined","range","i","Number","minMoment","maxMoment","prevMonthBtnEnabled","isValid","isBefore","nextMonthBtnEnabled","isAfter","base_components_ButtonPrev_ButtonPrev","base_components_ButtonNext_ButtonNext","day","enabledDate","isSameOrAfter","onMouseEnter","onMouseLeave","React","Component","onClickOutside","ToggleIcon","on","downArrowIcon","Toggle","openByDefault","toggle","open","close","DateInput","defaultLabel","getDateLabel","shouldShowSelectedDate","active","buttonLabel","setButtonLabel","_useContext","useContext","DateFilterContext","selectDate","base_components_Toggle_Toggle","base_components_ToggleIcon_ToggleIcon","base_components_Calendar_Calendar","FrequentDateButton","label","isSelected","DateFilter","DateFilter_DateFilterContext","Provider","value","createContext","TODAY_LABEL","TOMORROW_LABEL","DEFAULT_DATE_INPUT_LABEL","DateFilterWrapper","_datesLabels","today","tomorrow","dayAfterTomorrow","DAY_AFTER_TOMORROW_LABEL","shouldShowSelectedDateOnDateInput","datesLabels","defineProperty","base_components_DateFilter_DateFilter","NotFoundPage","Wireframe","max","valuePerStep","formatLabel","labelMarkStep","rangeUnits","makeRange","lastUnit","isFirstStep","unit","islabelMarkStep","first","clamp","SelectedRange","cursorShift","grab","event","target","cursorX","pageX","onChangeStart","selectedRangeLeft","getBoundingClientRect","left","document","addEventListener","move","release","stopPropagation","preventDefault","cursorPageValue","normalizedRange","onChange","normalizeValue","pagePositionToNormalizedValue","normalizedRangeLength","newNormalizedRangeStart","newNormalizedRangeEnd","newNormalizedRange","isEqual","removeEventListener","onChangeEnd","selectedRangeRef","selectedRangeStart","selectedRangeLength","abs","ref","style","width","onPointerDown","Handle","handle","name","handleLeft","cursorPagePosition","oldValue","normalizedValue","newValue","_this$props3","_this$props4","handleRef","transform","MODE","DRAG","RangeSlider","mode","firstHandleName","secondHandleName","handleResize","measureElementsSize","handleChangeStart","switchToDragMode","handleChangeEnd","switchToIdleMode","animateSelectedRangeRounding","finishSelectedRangeRoundingAnimation","classList","remove","firstHandle","secondHandle","handleHandleValueChange","absoluteRangeToNormalized","swapHandlesWhileDrag","handleSelectedRangeChange","absoluteRange","normalizedRangeToAbsolute","roundValue","round","normalizedValueToAbsolute","absoluteValueToNormalized","absoluteValue","position","sliderLeft","sliderWidth","setSliderRef","slider","setSelectedRangeRef","setFirstHandleRef","setSecondHandleRef","nextProps","nextState","stateChanged","propsChanged","_this$slider$getBound","setTimeout","handlesSwappedWhileDrag","getSelectedRange","normalizedSelectedRange","RangeSlider_Handle_Handle","RangeSlider_SelectedRange_SelectedRange","SliderWireframe_SliderWireframe","MoviePage","setSelectedDate","setSelectedRange","base_components_Gallery_Gallery","frames","htmlFor","id","genres","join","movies_movies_page_DateFilter_DateFilter","base_components_RangeSlider_RangeSlider","movie_page_SeancesList_SeancesList","fetchMovie","match","NotFoundPage_NotFoundPage","common_ErrorPage_ErrorPage","parseInt","params","MoviePage_MoviePage","Search","hint","placeholder","onHintChange","resetHint","searchIcon","Movie","poster","history","goToMoviePage","apiURL","replacer","replace","createRoute","MOVIES_STATE","MoviesList","movieHint","selectedMovies","toLowerCase","includes","trim","getMoviesState","movies_page_Movie_Movie","fetchMovies","MoviesList_MoviesList","MOVIE_SEARCH_PLACEHOLDER","MoviesPage","setMovieHint","_useState5","_useState6","movies_page_Search_Search","movies_page_MoviesList_MoviesList","react_router","exact","path","component","MoviePageContainer","Modal","onClose","showCloseIcon","isOpen","statusMsg","icon","closeButtonLabel","base_components_Modal_Modal","ReservationFailureModal","common_StatusModal_StatusModal","NotAvailableAuthModal","PaymentSuccessModal","congratIcon","useInputState","initialValue","_ref$shouldMatch","shouldMatch","_ref$required","required","input","setInput","touched","setTouched","handleInputChange","handleBlur","valid","matchPattern","test","selectReservationStatus","tickets","reservationStatus","selectPaymentStatus","paymentStatus","RESERVE_TICKETS","PAY_TICKETS","reserveTicketsSuccess","seanceId","reservedSeatsId","reserveTicketsError","resetReservationStatus","payTicketsSuccess","seatsId","payTicketsError","resetPaymentStatus","payTickets","orderDetails","_useInputState","_useInputState2","number","handleNumberChange","handleNumberBlur","numberValid","numberTouched","_useInputState3","_useInputState4","handleNameChange","handleNameBlur","nameValid","nameTouched","_useInputState5","_useInputState6","expiry","handleExpiryChange","handleExpiryBlur","expiryValid","expiryTouched","_useInputState7","_useInputState8","cvc","handleCvcChange","handleCvcBlur","cvcValid","cvcTouched","allValid","_useFocusState","focused","setFocus","useFocusState","_useFocusState2","handleFocusChange","ticketsCount","declint","handleSubmit","showPaymentSuccessModal","showPaymentFailureModal","console","totalPrice","react_credit_cards_es","placeholders","maxLength","onFocus","onBlur","ticketsPaymentPageProps","handleModalClose","ticketsPayment_TicketsPaymentPage_TicketsPaymentPage","reserveTickets","hallScheme","takenSeats","reservedSeats","selectedSeats","setSelectedSeats","selectSeat","seatId","seatToSelect","unselectSeat","idxToRemoveAt","findIndex","seat","newSelectedSeats","toConsumableArray","splice","seatsAreNotSelected","reduce","buyTickets","goToTicketsPayment","showReservationFailureModal","seanceMoment","seanceDateAppearance","seanceStartTimeAppearance","data","hallScreen","height","row","seats","isAvailable","find","selectedSeat","uniqueId","seanceTicketsPageProps","seanceTickets_SeanceTicketsPage_SeanceTicketsPage","PaymentFailureModal","selectModalsToShow","modals","modalsToShow","MODAL_COMPONENTS","_MODAL_COMPONENTS","SeanceTicketsModal","TicketsPaymentModal","modal","SpecificModalComponent","ScrollToTop","scrollTo","PropTypes","any","isRequired","shape","string","App","currentUser","base_components_ScrollToTop_ScrollToTop","ModalManager_ModalManager","navbar_NavBar","onLogout","onSettings","routes_Routes","initialState","createBrowserHistory","rootReducer","combineReducers","router","connectRouter","action","reservationCancelled","paymentCancelled","daysWithSchedule","getMovies","dayStartMoment","generatedMovies","generateSeancesFor","generateMoviesFor","seanceStartTimes2D","possibleSeanceStartTimes","3D","generateSeancesAt","2D","seanceStartTimes","Infinity","possibleTakenSeats","possibleReservedSeats","NotFoundError","classCallCheck","possibleConstructorReturn","getPrototypeOf","call","Error","1","2","3","4","6","7","8","9","10","11","Promise","resolve","getMovie","getSeances","watchMoviesRequests","regenerator_default","wrap","_context","prev","next","services","sent","put","t0","stop","_marked","_context2","_marked2","_ref3","_context3","_marked3","_context4","all","takeLatest","_marked4","reserveTicketsRequest","payTicketsRequest","watchTicketsRequests","reservedSeanceId","sagas_marked","_ref4","_ref5","_ref6","payedSeanceId","payedSeatsId","sagas_marked2","sagas_marked3","rootSaga","rootSaga_marked","navigationMiddleware","routerMiddleware","sagaMiddleware","createSagaMiddleware","store","createStore","composeWithDevTools","applyMiddleware","run","locale","nominative_months","subjective_months","updateLocale","months","momentToFormat","month","weekdaysShort","weekdaysMin","ReactDOM","render","es","esm","app_App","getElementById"],"mappings":"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","file":"static/js/main.86eafa2d.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/sad-icon.6f88e81a.svg\";","module.exports = __webpack_public_path__ + \"static/media/light-arrow-left.b0851dd2.svg\";","module.exports = __webpack_public_path__ + \"static/media/dark-arrow-left.1820060b.svg\";","module.exports = __webpack_public_path__ + \"static/media/dark-cross-icon.20a6db3e.svg\";","module.exports = __webpack_public_path__ + \"static/media/light-cross-icon.8eca8299.svg\";","module.exports = __webpack_public_path__ + \"static/media/down-arrow.d51c4cbd.svg\";","module.exports = __webpack_public_path__ + \"static/media/search-icon.406f4917.svg\";","module.exports = __webpack_public_path__ + \"static/media/congrat-icon.b052a4be.svg\";","module.exports = __webpack_public_path__ + \"static/media/cropped-screen.a6343b03.svg\";","import React from 'react';\nimport PropTypes from 'prop-types';\nimport classNames from 'classnames';\nimport { Link, withRouter } from 'react-router-dom';\n\nimport './NavLink.scss';\n\nfunction NavLink({\n  to,\n  location,\n  children,\n  linkClassName,\n  activeLinkClassName,\n  linkBoxClassName,\n  activeLinkBoxClassName,\n  ...props\n}) {\n  const isActive = to === location.pathname;\n  return (\n    <li\n      data-testid='link-box'\n      className={classNames('link-box', linkBoxClassName, {\n        'active-link-box': isActive,\n        activeLinkBoxClassName: isActive,\n      })}\n    >\n      <Link\n        to={to}\n        data-testid='link'\n        className={classNames('link', linkClassName, {\n          'active-link': isActive,\n          activeLinkClassName: isActive,\n        })}\n      >\n        {children}\n      </Link>\n    </li>\n  );\n}\n\nNavLink.propTypes = {\n  to: PropTypes.string.isRequired,\n  location: PropTypes.object.isRequired,\n  children: PropTypes.any.isRequired,\n  linkClassName: PropTypes.string,\n  linkBoxClassName: PropTypes.string,\n  activeLinkClassName: PropTypes.string,\n  activeLinkBoxClassName: PropTypes.string,\n};\n\nNavLink.defaultProps = {\n  linkClassName: '',\n  linkBoxClassName: '',\n  activeLinkClassName: '',\n  activeLinkBoxClassName: '',\n};\n\nexport default withRouter(NavLink);\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport classNames from 'classnames';\n\nimport './Button.scss';\n\nfunction Button({ children, className, ...props }) {\n  return (\n    <button\n      type='button'\n      className={classNames('button', className)}\n      {...props}\n    >\n      {children}\n    </button>\n  );\n}\n\nButton.propTypes = {\n  children: PropTypes.any.isRequired,\n  className: PropTypes.string,\n};\n\nButton.defaultProps = {\n  className: '',\n};\n\nexport default Button;\n","const MINUTES_IN_HOUR = 60;\nconst HOURS_IN_DAY = 24;\n\nconst toTimeLabel = minutes => {\n  const hours = Math.floor(minutes / MINUTES_IN_HOUR) % HOURS_IN_DAY;\n  let minutesRest = minutes % MINUTES_IN_HOUR;\n  minutesRest = minutesRest < 10 ? `0${minutesRest}` : minutesRest;\n  return `${hours}:${minutesRest}`;\n};\n\nexport { toTimeLabel, MINUTES_IN_HOUR, HOURS_IN_DAY };\n","import { MINUTES_IN_HOUR } from './utils/time';\n\nconst ROUTE = {\n  MOVIES: '/movies-page',\n  MOVIE: '/movie-page/:id',\n  SOON_MOVIES: '/soon-movies-page',\n  BEST_DEALS: '/best-deals',\n};\n\nconst MODAL = {\n  SEANCE_TICKETS: 'SEANCE_TICKETS',\n  TICKETS_PAYMENT: 'TICKETS_PAYMENT',\n  PAYMENT_SUCCESS: 'PAYMENT_SUCCESS',\n  NOT_AVAILABLE_AUTH: 'NOT_AVAILABLE_AUTH',\n  RESERVATION_FAILURE: 'RESERVATION_FAILURE',\n  PAYMENT_FAILURE: 'PAYMENT_FAILURE',\n};\n\nconst STATUS = {\n  SUCCESS: 'SUCCESS',\n  ERROR: 'ERROR',\n  REQUEST: 'REQUEST',\n  IDLE: 'IDLE',\n};\n\nconst APP_DATE_FORMAT = 'YYYY-MM-DD';\n\nconst SEANCES_TIME_RANGE = {\n  start: 10 * MINUTES_IN_HOUR,\n  end: 26 * MINUTES_IN_HOUR,\n};\n\nconst RUSSIAN_CURRENCY_SYMBOL = '\\u20BD';\n\nexport {\n  ROUTE,\n  APP_DATE_FORMAT,\n  SEANCES_TIME_RANGE,\n  MODAL,\n  STATUS,\n  RUSSIAN_CURRENCY_SYMBOL,\n};\n","import { CLOSE_MODAL, SHOW_MODAL } from './action-types';\n\nconst showModal = (modalType, modalProps) => ({\n  type: SHOW_MODAL,\n  modalType,\n  modalProps,\n});\n\nconst closeModal = () => ({\n  type: CLOSE_MODAL,\n});\n\nexport { showModal, closeModal };\n","const SHOW_MODAL = '@@modals/SHOW_MODAL';\n\nconst CLOSE_MODAL = '@@modals/CLOSE_MODAL';\n\nexport { SHOW_MODAL, CLOSE_MODAL };\n","import React, { useCallback } from 'react';\nimport PropTypes from 'prop-types';\nimport { connect } from 'react-redux';\n\nimport { NavLink } from './NavLink';\nimport { Button } from '../../base-components/Button';\nimport { MODAL, ROUTE } from '../../../constants';\nimport { showModal } from '../../../ducks/ui/modals/actions';\n\nimport './NavBar.scss';\n\nfunction NavBar({ showModal }) {\n  const showNotAvailableAuthModal = useCallback(() => {\n    showModal(MODAL.NOT_AVAILABLE_AUTH);\n  }, []);\n\n  return (\n    <header className='navBarContainer'>\n      <ul className='leftPart'>\n        <h1 className='brand'>Формула кино</h1>\n        <NavLink linkBoxClassName='movies-link' to={ROUTE.MOVIES}>\n          Уже в кино\n        </NavLink>\n        <NavLink linkBoxClassName='best-deals-link' to={ROUTE.BEST_DEALS}>\n          Акции\n        </NavLink>\n      </ul>\n      <div className='rightPart'>\n        <Button className='login-btn' onClick={showNotAvailableAuthModal}>\n          Войти\n        </Button>\n      </div>\n    </header>\n  );\n}\n\nNavBar.propTypes = {\n  showModal: PropTypes.func.isRequired,\n};\n\nconst mapDispatchToProps = {\n  showModal,\n};\n\nexport default connect(\n  null,\n  mapDispatchToProps,\n)(NavBar);\n","import React from 'react';\n\nimport sadnessIcon from '../../../../assets/images/sad-icon.svg';\n\nimport './BestDealsPage.scss';\n\nfunction BestDealsPage() {\n  return (\n    <p className='page-info'>\n      К сожалению, в данный момент акции не проходят{' '}\n      <img alt='' className='sadness-icon' src={sadnessIcon} />\n    </p>\n  );\n}\n\nexport default BestDealsPage;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { FocusOn } from 'react-focus-on';\n\nimport crossIcon from '../../../../assets/images/light-cross-icon.svg';\n\nimport './GalleryViewer.scss';\n\nfunction GalleryViewer({ items, selectedItemIdx, selectItem, closeViewer }) {\n  const handleNextItemClick = () =>\n    selectItem((selectedItemIdx + 1) % items.length);\n  const handlePreviousItemClick = () =>\n    selectItem((items.length + selectedItemIdx - 1) % items.length);\n\n  return (\n    <FocusOn onEscapeKey={closeViewer}>\n      <div className='gallery-popup'>\n        <div className='popup-header'>\n          <p className='item-number-info'>\n            {`${selectedItemIdx + 1} из ${items.length}`}\n          </p>\n          <input\n            type='image'\n            alt='close'\n            aria-label='close'\n            tabIndex={0}\n            className='close-icon smoothly-enhance-on-hover'\n            src={crossIcon}\n            onClick={closeViewer}\n          />\n        </div>\n        <div className='popup-content'>\n          <img\n            alt='item'\n            className='item-content'\n            src={items[selectedItemIdx].url}\n          />\n          <button\n            aria-label='previous'\n            tabIndex={0}\n            className='btn-prev smoothly-enhance-on-hover'\n            onClick={handlePreviousItemClick}\n          />\n          <button\n            aria-label='next'\n            tabIndex={0}\n            className='btn-next smoothly-enhance-on-hover'\n            onClick={handleNextItemClick}\n          />\n        </div>\n        <div className='popup-footer'>\n          <p className='item-description'>\n            {items[selectedItemIdx].description}\n          </p>\n        </div>\n      </div>\n    </FocusOn>\n  );\n}\n\nGalleryViewer.propTypes = {\n  items: PropTypes.arrayOf(\n    PropTypes.shape({\n      description: PropTypes.string.isRequired,\n      url: PropTypes.string.isRequired,\n    }).isRequired,\n  ).isRequired,\n  selectedItemIdx: PropTypes.number.isRequired,\n  selectItem: PropTypes.func.isRequired,\n  closeViewer: PropTypes.func.isRequired,\n};\n\nexport default GalleryViewer;\n","import React, { useState } from 'react';\nimport PropTypes from 'prop-types';\nimport classNames from 'classnames';\n\nimport { GalleryViewer } from './GalleryViewer';\n\nimport './Gallery.scss';\n\nconst MAX_PREVIEWS_COUNT = 4;\n\nfunction Gallery({ items, className }) {\n  const hasAtLeastOneItem = Boolean(items.length);\n  const primaryItem = items[0];\n\n  const itemsWithPreviewsCount = Math.min(items.length - 1, MAX_PREVIEWS_COUNT);\n  const hasAtLeastOneItemWithPreview = Boolean(itemsWithPreviewsCount);\n  const itemsWithPreviews = items.slice(1, itemsWithPreviewsCount + 1);\n\n  const hiddenItems = items.slice(itemsWithPreviewsCount + 1);\n  const hasAtLeastOneHiddenItem = Boolean(hiddenItems.length);\n\n  const [selectedItemIdx, setSelectedItem] = useState(0);\n  const [showItem, setShowItem] = useState(false);\n\n  const handleItemClick = itemIdx => {\n    setSelectedItem(itemIdx);\n    setShowItem(true);\n  };\n\n  const closeViewer = () => {\n    setShowItem(false);\n  };\n\n  return (\n    hasAtLeastOneItem && (\n      <div className={classNames('gallery', className)}>\n        <div className='primary-item-container'>\n          <img\n            alt='primary item'\n            className='primary-item'\n            src={primaryItem.url}\n            onClick={() => handleItemClick(0)}\n          />\n        </div>\n        {hasAtLeastOneItemWithPreview && (\n          <div className='items-previews-container'>\n            <>\n              {itemsWithPreviews.map((itemWithPreview, idx) => (\n                <div\n                  key={itemWithPreview.url}\n                  className='item-preview-container'\n                  onClick={() => handleItemClick(idx + 1)}\n                >\n                  <img\n                    alt='item preview'\n                    className='item-preview'\n                    src={itemWithPreview.url}\n                  />\n                </div>\n              ))}\n              {hasAtLeastOneHiddenItem && (\n                <div\n                  className='hidden-items-count'\n                  onClick={() => handleItemClick(itemsWithPreviewsCount + 1)}\n                >\n                  {`+${hiddenItems.length}`}\n                </div>\n              )}\n            </>\n          </div>\n        )}\n        {showItem && (\n          <GalleryViewer\n            items={items}\n            selectedItemIdx={selectedItemIdx}\n            selectItem={setSelectedItem}\n            closeViewer={closeViewer}\n          />\n        )}\n      </div>\n    )\n  );\n}\n\nGallery.propTypes = {\n  items: PropTypes.arrayOf(\n    PropTypes.shape({\n      description: PropTypes.string.isRequired,\n      url: PropTypes.string.isRequired,\n    }).isRequired,\n  ).isRequired,\n  className: PropTypes.string,\n};\n\nGallery.defaultProps = {\n  className: '',\n};\n\nexport default Gallery;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport classNames from 'classnames';\n\nimport './Spinner.scss';\n\nfunction Spinner({ message, className }) {\n  return (\n    <div className={classNames('spinner-container', className)}>\n      <div className='spinner' />\n      <p className='loading-msg'>{message}</p>\n    </div>\n  );\n}\n\nSpinner.propTypes = {\n  message: PropTypes.string,\n  className: PropTypes.string,\n};\n\nSpinner.defaultProps = {\n  message: 'Идет загрузка',\n  className: '',\n};\n\nexport default Spinner;\n","import React from 'react';\n\nimport './ErrorPage.scss';\n\nconst reloadPage = () => window.location.reload();\n\nfunction ErrorPage() {\n  return (\n    <p className='error-page-info'>\n      Произошла ошибка\n      <br />\n      <span className='error-page-request'>\n        Попробуйте&nbsp;\n        <button className='reload-link' onClick={reloadPage}>\n          перезагрузить страницу\n        </button>\n      </span>\n    </p>\n  );\n}\n\nexport default ErrorPage;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport classNames from 'classnames';\n\nimport './Tooltip.scss';\n\nfunction Tooltip({ children, className }) {\n  return <span className={classNames('tooltip', className)}>{children}</span>;\n}\n\nTooltip.propTypes = {\n  children: PropTypes.any.isRequired,\n  className: PropTypes.string,\n};\n\nTooltip.defaultProps = {\n  className: '',\n};\n\nexport default Tooltip;\n","import moment from 'moment/moment';\n\nfunction keepSeancesAt(date, timeRange, seances) {\n  let hasAtLeastOneSeance = false;\n  const seancesFormats = Object.keys(seances);\n  const filteredSeances = {};\n  const momentRange = {\n    start: moment(date).add(timeRange.start, 'm'),\n    end: moment(date).add(timeRange.end, 'm'),\n  };\n\n  seancesFormats.forEach(format => {\n    filteredSeances[format] = seances[format].filter(seance => {\n      const seanceStartMoment = moment.unix(seance.startTime);\n      return seanceStartMoment.isBetween(momentRange.start, momentRange.end, 'm', '[]');\n    });\n\n    hasAtLeastOneSeance = hasAtLeastOneSeance || filteredSeances[format].length;\n  });\n\n  return hasAtLeastOneSeance ? filteredSeances : null;\n}\n\nfunction hasStarted(seance) {\n  const now = moment();\n  return moment.unix(seance.startTime).isSameOrBefore(now);\n}\n\nexport { keepSeancesAt, hasStarted };\n","import React, { useCallback } from 'react';\nimport PropTypes from 'prop-types';\nimport moment from 'moment/moment';\nimport classNames from 'classnames';\nimport { connect } from 'react-redux';\n\nimport { Tooltip } from '../../../../base-components/Tooltip';\nimport { MODAL, RUSSIAN_CURRENCY_SYMBOL } from '../../../../../constants';\nimport { showModal } from '../../../../../ducks/ui/modals/actions';\nimport { hasStarted } from '../../utils/movies';\n\nimport './Seances.scss';\n\nfunction Seances({ movieName, seances, className, showModal }) {\n  const goToSeanceTicketsPage = useCallback((movieName, seance) => {\n    const modalProps = { movieName, ...seance };\n    showModal(MODAL.SEANCE_TICKETS, modalProps);\n  }, []);\n\n  return (\n    <div className={classNames('seances', className)}>\n      {Object.keys(seances).map(\n        format =>\n          seances[format].length && (\n            <div key={format} className='format-seances-container'>\n              <p className='format'>{format}</p>\n              <ul className='format-seances'>\n                {seances[format].map(seance => {\n                  return (\n                    <li key={seance.startTime}>\n                      <button\n                        className={classNames(\n                          'seance',\n                          hasStarted(seance) && 'has-started',\n                        )}\n                        onClick={() => goToSeanceTicketsPage(movieName, seance)}\n                        disabled={hasStarted(seance)}\n                      >\n                        {moment.unix(seance.startTime).format('HH:mm')}\n                        <Tooltip className='price-tooltip'>\n                          {`от ${seance.price} ${RUSSIAN_CURRENCY_SYMBOL}`}\n                        </Tooltip>\n                      </button>\n                    </li>\n                  );\n                })}\n              </ul>\n            </div>\n          ),\n      )}\n    </div>\n  );\n}\n\nSeances.propTypes = {\n  movieName: PropTypes.string.isRequired,\n  seances: PropTypes.objectOf(\n    PropTypes.arrayOf(\n      PropTypes.shape({\n        id: PropTypes.string.isRequired,\n        startTime: PropTypes.number.isRequired,\n        price: PropTypes.number.isRequired,\n      }),\n    ),\n  ),\n  showModal: PropTypes.func.isRequired,\n  className: PropTypes.string,\n};\n\nSeances.defaultProps = {\n  seances: null,\n  className: '',\n};\n\nconst mapDispatchToProps = {\n  showModal,\n};\n\nexport default connect(\n  null,\n  mapDispatchToProps,\n)(Seances);\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport classNames from 'classnames';\n\nimport './NoScheduleComponent.scss';\n\nfunction NoScheduleComponent({ className }) {\n  return (\n    <div className={classNames('no-schedule-container', className)}>\n      <p className='no-schedule-msg'>Расписание на выбранную дату не найдено</p>\n    </div>\n  );\n}\n\nNoScheduleComponent.propTypes = {\n  className: PropTypes.string,\n};\n\nNoScheduleComponent.defaultProps = {\n  className: '',\n};\n\nexport default NoScheduleComponent;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport classNames from 'classnames';\n\nimport './NotFoundComponent.scss';\n\nfunction NotFoundComponent({ resetSettings, className }) {\n  return (\n    <div className={classNames('info-box', className)}>\n      <div className='info no-found'>\n        По вашему запросу ничего нет\n        <br />\n        <span className='reset-request'>\n          Пожалуйста,&nbsp;\n          <button className='reset-settings-link' onClick={resetSettings}>\n            сбросьте настройки\n          </button>\n        </span>\n      </div>\n    </div>\n  );\n}\n\nNotFoundComponent.propTypes = {\n  resetSettings: PropTypes.func.isRequired,\n  className: PropTypes.string,\n};\n\nNotFoundComponent.defaultProps = {\n  className: '',\n};\n\nexport default NotFoundComponent;\n","const selectMovies = state => state.movies.movies;\n\nconst selectSelectedMovie = state => state.movies.selectedMovie;\n\nconst selectSelectedMovieSeances = state => state.movies.selectedMovieSeances;\n\nconst selectMoviesError = state => state.movies.error;\n\nexport {\n  selectMovies,\n  selectSelectedMovie,\n  selectMoviesError,\n  selectSelectedMovieSeances,\n};\n","const FETCH_MOVIES = {\n  REQUEST: '@@movies-page/FETCH_MOVIES_REQUEST',\n  SUCCESS: '@@movies-page/FETCH_MOVIES_SUCCESS',\n  ERROR: '@@movies-page/FETCH_MOVIES_ERROR',\n};\n\nconst FETCH_MOVIE = {\n  REQUEST: '@@movies-page/FETCH_MOVIE_REQUEST',\n  SUCCESS: '@@movies-page/FETCH_MOVIE_SUCCESS',\n  ERROR: '@@movies-page/FETCH_MOVIE_ERROR',\n};\n\nconst FETCH_SEANCES = {\n  REQUEST: '@@movies-page/FETCH_SEANCES_REQUEST',\n  SUCCESS: '@@movies-page/FETCH_SEANCES_SUCCESS',\n  ERROR: '@@movies-page/FETCH_SEANCES_ERROR',\n};\n\nexport { FETCH_MOVIES, FETCH_MOVIE, FETCH_SEANCES };","import { FETCH_MOVIE, FETCH_MOVIES, FETCH_SEANCES } from './action-types';\n\nconst fetchMoviesRequest = date => ({\n  type: FETCH_MOVIES.REQUEST,\n  date,\n});\n\nconst fetchMoviesSuccess = movies => ({\n  type: FETCH_MOVIES.SUCCESS,\n  movies,\n});\n\nconst fetchMoviesError = error => ({\n  type: FETCH_MOVIES.ERROR,\n  error,\n});\n\nconst fetchMovieRequest = id => ({\n  type: FETCH_MOVIE.REQUEST,\n  id,\n});\n\nconst fetchMovieSuccess = movie => ({\n  type: FETCH_MOVIE.SUCCESS,\n  movie,\n});\n\nconst fetchMovieError = error => ({\n  type: FETCH_MOVIE.ERROR,\n  error,\n});\n\nconst fetchSeancesRequest = (movieId, date) => ({\n  type: FETCH_SEANCES.REQUEST,\n  movieId,\n  date,\n});\n\nconst fetchSeancesSuccess = seances => ({\n  type: FETCH_SEANCES.SUCCESS,\n  seances,\n});\n\nconst fetchSeancesError = error => ({\n  type: FETCH_SEANCES.ERROR,\n  error,\n});\n\nexport {\n  fetchMoviesRequest,\n  fetchMoviesSuccess,\n  fetchMoviesError,\n  fetchMovieRequest,\n  fetchMovieSuccess,\n  fetchMovieError,\n  fetchSeancesRequest,\n  fetchSeancesSuccess,\n  fetchSeancesError,\n};\n","import React, { useEffect, useMemo } from 'react';\nimport PropTypes from 'prop-types';\nimport { connect } from 'react-redux';\nimport _ from 'lodash';\n\nimport { Seances } from '../../common/Seances';\nimport { keepSeancesAt } from '../../utils/movies';\nimport { Spinner } from '../../../common/Spinner';\nimport { NoScheduleComponent } from '../../../common/NoScheduleComponent';\nimport { NotFoundComponent } from '../../../common/NotFoundComponent';\n\nimport { selectSelectedMovieSeances } from '../../../../../ducks/data/movies/selectors';\nimport { fetchSeancesRequest } from '../../../../../ducks/data/movies/actions';\n\nimport './SeancesList.scss';\n\nconst SEANCES_STATE = {\n  LOADING: 0,\n  SCHEDULE_NOT_EXIST: 1,\n  NOT_FOUND: 2,\n  FOUND: 3,\n};\n\nfunction getSeancesState(seances, selectedSeances) {\n  if (_.isEmpty(seances)) {\n    return SEANCES_STATE.SCHEDULE_NOT_EXIST;\n  }\n  if (!selectedSeances) {\n    return SEANCES_STATE.NOT_FOUND;\n  }\n  return SEANCES_STATE.FOUND;\n}\n\nfunction SeancesList({\n  movieName,\n  seances,\n  selectedRange,\n  selectedDate,\n  resetFiltersSettings,\n}) {\n  const selectedSeances = useMemo(\n    () =>\n      seances ? keepSeancesAt(selectedDate, selectedRange, seances) : null,\n    [seances, selectedRange],\n  );\n\n  const seancesState = getSeancesState(seances, selectedSeances);\n  switch (seancesState) {\n    case SEANCES_STATE.LOADING:\n      return;\n    case SEANCES_STATE.SCHEDULE_NOT_EXIST:\n      return <NoScheduleComponent className='info-box' />;\n    case SEANCES_STATE.NOT_FOUND:\n      return (\n        <NotFoundComponent\n          className='info-box'\n          resetSettings={resetFiltersSettings}\n        />\n      );\n    case SEANCES_STATE.FOUND:\n      return (\n        <div className='seances-list'>\n          <Seances movieName={movieName} seances={selectedSeances} className='seances' />\n        </div>\n      );\n  }\n}\n\nSeancesList.propTypes = {\n  seances: PropTypes.objectOf(\n    PropTypes.arrayOf(\n      PropTypes.shape({\n        id: PropTypes.string.isRequired,\n        startTime: PropTypes.number.isRequired,\n        price: PropTypes.number.isRequired,\n      }),\n    ),\n  ).isRequired,\n  selectedRange: PropTypes.shape({\n    start: PropTypes.number.isRequired,\n    end: PropTypes.number.isRequired,\n  }).isRequired,\n  selectedDate: PropTypes.string.isRequired,\n  resetFiltersSettings: PropTypes.func.isRequired,\n};\n\nfunction SeancesListContainer({\n  movieId,\n  seances,\n  selectedDate,\n  fetchSeances,\n  ...props\n}) {\n  useEffect(() => {\n    fetchSeances(movieId, selectedDate);\n  }, [selectedDate]);\n\n  return seances ? (\n    <SeancesList seances={seances} selectedDate={selectedDate} {...props} />\n  ) : (\n    <Spinner className='info-box' />\n  );\n}\n\nconst mapStateToProps = state => ({\n  seances: selectSelectedMovieSeances(state),\n});\n\nconst mapDispatchToProps = {\n  fetchSeances: fetchSeancesRequest,\n};\n\nexport default connect(\n  mapStateToProps,\n  mapDispatchToProps,\n)(SeancesListContainer);\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport classNames from 'classnames';\n\nimport lightArrowLeft from '../../../assets/images/light-arrow-left.svg';\nimport darkArrowLeft from '../../../assets/images/dark-arrow-left.svg';\n\nimport './ButtonNext.scss';\n\nfunction ButtonNext({ onClick, type, className, ...props }) {\n  return (\n    <button\n      aria-label='button next'\n      onClick={onClick}\n      className={classNames('btn', className)}\n      {...props}\n    >\n      <img\n        alt='button next'\n        className='btn-icon arrow-next enhance-on-hover'\n        src={type === 'light' ? lightArrowLeft : darkArrowLeft}\n      />\n    </button>\n  );\n}\n\nButtonNext.propTypes = {\n  onClick: PropTypes.func,\n  type: PropTypes.string,\n  className: PropTypes.string,\n};\n\nButtonNext.defaultProps = {\n  onClick: () => {},\n  type: 'dark',\n  className: '',\n};\n\nexport default ButtonNext;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport classNames from 'classnames';\n\nimport lightArrowLeft from '../../../assets/images/light-arrow-left.svg';\nimport darkArrowLeft from '../../../assets/images/dark-arrow-left.svg';\n\nimport './ButtonPrev.scss';\n\nfunction ButtonPrev({ onClick, type, className, ...props }) {\n  return (\n    <button\n      aria-label='button previous'\n      onClick={onClick}\n      className={classNames('btn', className)}\n      {...props}\n    >\n      <img\n        alt='button previous'\n        className='btn-icon enhance-on-hover'\n        src={type === 'light' ? lightArrowLeft : darkArrowLeft}\n      />\n    </button>\n  );\n}\n\nButtonPrev.propTypes = {\n  onClick: PropTypes.func,\n  type: PropTypes.string,\n  className: PropTypes.string,\n};\n\nButtonPrev.defaultProps = {\n  onClick: () => {},\n  type: 'dark',\n  className: '',\n};\n\nexport default ButtonPrev;\n","import moment from 'moment';\n\nimport { APP_DATE_FORMAT } from '../constants';\n\nconst toMoment = date => moment(date, APP_DATE_FORMAT, true);\n\nconst toAppDateFormat = momentDate => momentDate.format(APP_DATE_FORMAT);\n\nconst getTodayStartMoment = () => moment().startOf('day');\n\nconst getTodayDate = () => toAppDateFormat(getTodayStartMoment());\n\nconst getTomorrowDate = () =>\n  toAppDateFormat(getTodayStartMoment().add(1, 'days'));\n\nconst getDateAfterTomorrow = () =>\n  toAppDateFormat(getTodayStartMoment().add(2, 'days'));\n\nconst getEndDateOfSixthMonthFromCurrent = () =>\n  toAppDateFormat(\n    moment()\n      .add(6, 'months')\n      .endOf('month'),\n  );\n\nconst dateRange = (startDate, endDate) => {\n  const currentDate = startDate.clone();\n  const dateRange = [];\n  while (currentDate.isSameOrBefore(endDate)) {\n    dateRange.push(currentDate.clone());\n    currentDate.add(1, 'days');\n  }\n  return dateRange;\n};\n\nconst bindTimeToDayMoment = (time, dayMoment) => {\n  return dayMoment.clone().add(moment.duration(time));\n};\n\nconst momentToUnixTime = momentDate => momentDate.unix();\n\nexport {\n  toAppDateFormat,\n  toMoment,\n  getTodayStartMoment,\n  getTodayDate,\n  getTomorrowDate,\n  getDateAfterTomorrow,\n  getEndDateOfSixthMonthFromCurrent,\n  dateRange,\n  bindTimeToDayMoment,\n  momentToUnixTime,\n};\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport classNames from 'classnames';\nimport onClickOutside from 'react-onclickoutside';\nimport { extendMoment } from 'moment-range/dist/moment-range';\nimport Moment from 'moment/moment';\n\nimport { ButtonNext } from '../ButtonNext';\nimport { ButtonPrev } from '../ButtonPrev';\nimport { range } from '../../../utils/array';\nimport { dateRange, toAppDateFormat, toMoment } from '../../../utils/date';\n\nimport './Calendar.scss';\n\nconst moment = extendMoment(Moment);\n\nclass Calendar extends React.Component {\n  static propTypes = {\n    initialMonth: PropTypes.string,\n    onDateSelected: PropTypes.func.isRequired,\n    closeCalendar: PropTypes.func,\n    onDateEnter: PropTypes.func,\n    onDateLeave: PropTypes.func,\n    minDate: PropTypes.string,\n    maxDate: PropTypes.string,\n    closeOnSelect: PropTypes.bool,\n  };\n\n  static defaultProps = {\n    initialMonth: toAppDateFormat(moment()),\n    onDateEnter: () => {},\n    onDateLeave: () => {},\n    closeCalendar: () => {},\n    closeOnSelect: false,\n    minDate: null,\n    maxDate: null,\n  };\n\n  state = {\n    selectedMonth: this.props.initialMonth,\n  };\n\n  handleNextMonthClick = () => {\n    this.setState(({ selectedMonth }) => {\n      const monthMoment = toMoment(selectedMonth);\n      const nextMonthMoment = monthMoment.add(1, 'months');\n      const nextMonth = toAppDateFormat(nextMonthMoment);\n      return { selectedMonth: nextMonth };\n    });\n  };\n\n  handlePrevMonthClick = () => {\n    this.setState(({ selectedMonth }) => {\n      const monthMoment = toMoment(selectedMonth);\n      const prevMonthMoment = monthMoment.subtract(1, 'months');\n      const prevMonth = toAppDateFormat(prevMonthMoment);\n      return { selectedMonth: prevMonth };\n    });\n  };\n\n  handleDateSelected = date => {\n    const {\n      onDateSelected,\n      onDateLeave,\n      closeOnSelect,\n      closeCalendar,\n    } = this.props;\n\n    onDateSelected(date);\n    if (closeOnSelect) {\n      onDateLeave(date);\n      closeCalendar();\n    }\n  };\n\n  handleClickOutside = () => {\n    const { closeCalendar } = this.props;\n    closeCalendar();\n  };\n\n  render() {\n    const { minDate, maxDate, onDateEnter, onDateLeave } = this.props;\n\n    const { selectedMonth } = this.state;\n    const selectedMonthMoment = toMoment(selectedMonth);\n\n    const startMonthDate = selectedMonthMoment.startOf('month').clone();\n    const endMonthDate = selectedMonthMoment.endOf('month').clone();\n    const monthDates = dateRange(startMonthDate, endMonthDate);\n\n    const startWeekdayNumber = Number(startMonthDate.format('E'));\n    const startEmptyDays = range(1, startWeekdayNumber);\n\n    const minMoment = toMoment(minDate);\n    const maxMoment = toMoment(maxDate);\n    const prevMonthBtnEnabled =\n      !minMoment.isValid() || minMoment.isBefore(startMonthDate);\n    const nextMonthBtnEnabled =\n      !minMoment.isValid() || maxMoment.isAfter(endMonthDate);\n\n    return (\n      <div className='calendar'>\n        <div className='selectMonthArea'>\n          <p className='month'>{selectedMonthMoment.format('MMMM')}</p>\n          <div className='btnContainer'>\n            <ButtonPrev\n              onClick={this.handlePrevMonthClick}\n              className={classNames(\n                'btn btn-prev',\n                !prevMonthBtnEnabled && 'disabled',\n              )}\n              disabled={!prevMonthBtnEnabled}\n            />\n            <ButtonNext\n              onClick={this.handleNextMonthClick}\n              className={classNames('btn', !nextMonthBtnEnabled && 'disabled')}\n              disabled={!nextMonthBtnEnabled}\n            />\n          </div>\n        </div>\n        <ul className='weekdays'>\n          <li key={0} className='weekday'>\n            пн\n          </li>\n          <li key={1} className='weekday'>\n            вт\n          </li>\n          <li key={2} className='weekday'>\n            ср\n          </li>\n          <li key={3} className='weekday'>\n            чт\n          </li>\n          <li key={4} className='weekday'>\n            пт\n          </li>\n          <li key={5} className='weekday weekend'>\n            сб\n          </li>\n          <li key={6} className='weekday weekend'>\n            вс\n          </li>\n        </ul>\n        <ul className='days'>\n          {startEmptyDays.map(day => (\n            <li key={day} className='day' />\n          ))}\n          {monthDates.map(date => {\n            const enabledDate =\n              !minMoment.isValid() ||\n              (date.isSameOrAfter(minMoment) && date.isSameOrBefore(maxDate));\n            return (\n              <li\n                key={date.format('DD')}\n                onClick={() =>\n                  enabledDate\n                    ? this.handleDateSelected(toAppDateFormat(date))\n                    : false\n                }\n                className={enabledDate ? 'enabled-day' : 'disabled-day'}\n                onMouseEnter={() =>\n                  enabledDate ? onDateEnter(toAppDateFormat(date)) : false\n                }\n                onMouseLeave={() =>\n                  enabledDate ? onDateLeave(toAppDateFormat(date)) : false\n                }\n              >\n                {date.format('DD')}\n              </li>\n            );\n          })}\n        </ul>\n      </div>\n    );\n  }\n}\n\nexport default onClickOutside(Calendar);\n","function range(start, end, step = 1) {\n  const range = [];\n  for (let i = start; i < end; i += step) {\n    range.push(i);\n  }\n  return range;\n}\n\nexport { range };\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport classNames from 'classnames';\n\nimport downArrowIcon from '../../../assets/images/down-arrow.svg';\n\nimport './ToggleIcon.scss';\n\nfunction ToggleIcon({ on, className, ...props }) {\n  return (\n    <img\n      alt='toggle icon'\n      className={classNames('toggleIcon', on ? 'on' : 'off', className)}\n      src={downArrowIcon}\n      {...props}\n    />\n  );\n}\n\nToggleIcon.propTypes = {\n  on: PropTypes.bool.isRequired,\n  className: PropTypes.string,\n};\n\nToggleIcon.defaultProps = {\n  className: '',\n};\n\nexport default ToggleIcon;\n","import React from 'react';\nimport PropTypes from 'prop-types';\n\nclass Toggle extends React.Component {\n  static propTypes = {\n    children: PropTypes.func.isRequired,\n    openByDefault: PropTypes.bool,\n  };\n\n  static defaultProps = {\n    openByDefault: false,\n  };\n\n  state = {\n    on: this.props.openByDefault,\n  };\n\n  toggle = () => {\n    this.setState(state => ({ on: !state.on }));\n  };\n\n  open = () => {\n    this.setState({ on: true });\n  };\n\n  close = () => {\n    this.setState({ on: false });\n  };\n\n  render() {\n    const { children } = this.props;\n    const { on } = this.state;\n\n    return children(on, this.toggle, this.open, this.close);\n  }\n}\n\nexport default Toggle;\n","import React, { useContext, useState, useEffect } from 'react';\nimport PropTypes from 'prop-types';\nimport classNames from 'classnames';\n\nimport { Button } from '../../Button';\nimport { Calendar } from '../../Calendar';\nimport { ToggleIcon } from '../../ToggleIcon';\nimport { Toggle } from '../../Toggle';\nimport { DateFilterContext } from '..';\n\nimport './DateInput.scss';\n\nfunction DateInput({\n  minDate,\n  maxDate,\n  defaultLabel,\n  getDateLabel,\n  shouldShowSelectedDate,\n  active,\n}) {\n  const [buttonLabel, setButtonLabel] = useState(defaultLabel);\n  const { selectDate, selectedDate } = useContext(DateFilterContext);\n\n  useEffect(() => {\n    shouldShowSelectedDate\n      ? setButtonLabel(getDateLabel(selectedDate))\n      : setButtonLabel(defaultLabel);\n  }, [shouldShowSelectedDate, selectedDate]);\n\n  return (\n    <Toggle>\n      {(on, toggle) => (\n        <div className='date-input-container'>\n          <Button\n            className={classNames(\n              'calendar-btn ignore-react-onclickoutside',\n              active && 'active',\n            )}\n            onClick={toggle}\n          >\n            {buttonLabel}\n            <ToggleIcon on={on} className='calendar-btn-icon' />\n          </Button>\n          {on && (\n            <Calendar\n              initialMonth={selectedDate}\n              minDate={minDate}\n              maxDate={maxDate}\n              onDateSelected={date => selectDate(date)}\n              onDateEnter={date => setButtonLabel(getDateLabel(date))}\n              onDateLeave={() => setButtonLabel(defaultLabel)}\n              closeCalendar={toggle}\n              closeOnSelect\n            />\n          )}\n        </div>\n      )}\n    </Toggle>\n  );\n}\n\nDateInput.propTypes = {\n  defaultLabel: PropTypes.string,\n  getDateLabel: PropTypes.func,\n  minDate: PropTypes.string,\n  maxDate: PropTypes.string,\n  shouldShowSelectedDate: PropTypes.bool,\n  active: PropTypes.bool,\n};\n\nDateInput.defaultProps = {\n  defaultLabel: 'Выбрать дату',\n  getDateLabel: date => date.format('DD MMMM'),\n  minDate: null,\n  maxDate: null,\n  shouldShowSelectedDate: false,\n  active: false,\n};\n\nexport default DateInput;\n","import React, { useContext } from 'react';\nimport PropTypes from 'prop-types';\nimport classNames from 'classnames';\n\nimport { DateFilterContext } from '..';\n\nimport './FrequentDateButton.scss';\n\nfunction FrequentDateButton({ date, label }) {\n  const { selectedDate, selectDate } = useContext(DateFilterContext);\n  const isSelected = date === selectedDate;\n  return (\n    <button\n      onClick={() => (!isSelected ? selectDate(date) : false)}\n      className={classNames('frequent-date-btn', isSelected && 'selected')}\n    >\n      {label}\n    </button>\n  );\n}\n\nFrequentDateButton.propTypes = {\n  date: PropTypes.string.isRequired,\n  label: PropTypes.string.isRequired,\n};\n\nexport default FrequentDateButton;\n","import React from 'react';\nimport PropTypes from 'prop-types';\n\nimport { DateInput } from './DateInput';\nimport { DateFilterContext } from './index';\nimport { FrequentDateButton } from './FrequentDateButton';\n\nclass DateFilter extends React.Component {\n  static DateInput = DateInput;\n\n  static FrequentDateButton = FrequentDateButton;\n\n  render() {\n    const { selectedDate, selectDate, children, className } = this.props;\n    return (\n      <div className={className}>\n        <DateFilterContext.Provider value={{ selectedDate, selectDate }}>\n          <>{children}</>\n        </DateFilterContext.Provider>\n      </div>\n    );\n  }\n}\n\nDateFilter.propTypes = {\n  selectedDate: PropTypes.string,\n  selectDate: PropTypes.func.isRequired,\n  children: PropTypes.any.isRequired,\n  className: PropTypes.string.isRequired,\n};\n\nDateFilter.defaultProps = {\n  selectedDate: null,\n};\n\nexport default DateFilter;\n","import React from 'react';\n\nconst DateFilterContext = React.createContext({\n  selectedDate: null,\n  selectDate: () => {},\n});\n\nexport default DateFilterContext;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport classNames from 'classnames';\n\nimport { DateFilter } from '../../../../base-components/DateFilter';\n\nimport {\n  getDateAfterTomorrow,\n  getEndDateOfSixthMonthFromCurrent,\n  getTodayDate,\n  getTomorrowDate,\n  toMoment,\n} from '../../../../../utils/date';\n\nimport './DateFilter.scss';\n\nconst TODAY_LABEL = 'Сегодня';\nconst TOMORROW_LABEL = 'Завтра';\nconst DEFAULT_DATE_INPUT_LABEL = 'Выбрать день';\n\nfunction DateFilterWrapper({ selectedDate, selectDate, className }) {\n  const today = getTodayDate();\n  const tomorrow = getTomorrowDate();\n  const dayAfterTomorrow = getDateAfterTomorrow();\n  const DAY_AFTER_TOMORROW_LABEL = toMoment(dayAfterTomorrow).format('dd, DD MMMM');\n\n  const shouldShowSelectedDateOnDateInput =\n    selectedDate &&\n    selectedDate !== today &&\n    selectedDate !== tomorrow &&\n    selectedDate !== dayAfterTomorrow;\n\n  const datesLabels = {\n    [today]: TODAY_LABEL,\n    [tomorrow]: TOMORROW_LABEL,\n  };\n\n  function getDateLabel(date) {\n    if (date in datesLabels) return datesLabels[date];\n    return toMoment(date).format('dd, DD MMMM');\n  }\n\n  const minDate = today;\n  const maxDate = getEndDateOfSixthMonthFromCurrent();\n\n  return (\n    <DateFilter\n      selectedDate={selectedDate}\n      selectDate={selectDate}\n      className={classNames('date-filter horizontal', className)}\n    >\n      <DateFilter.FrequentDateButton date={today} label={TODAY_LABEL} />\n      <DateFilter.FrequentDateButton date={tomorrow} label={TOMORROW_LABEL} />\n      <DateFilter.FrequentDateButton date={dayAfterTomorrow} label={DAY_AFTER_TOMORROW_LABEL} />\n      <DateFilter.DateInput\n        defaultLabel={DEFAULT_DATE_INPUT_LABEL}\n        getDateLabel={getDateLabel}\n        shouldShowSelectedDate={shouldShowSelectedDateOnDateInput}\n        active={shouldShowSelectedDateOnDateInput}\n        minDate={minDate}\n        maxDate={maxDate}\n      />\n    </DateFilter>\n  );\n}\nDateFilterWrapper.propTypes = {\n  selectedDate: PropTypes.string.isRequired,\n  selectDate: PropTypes.func.isRequired,\n  className: PropTypes.string,\n};\n\nDateFilterWrapper.defaultProps = {\n  className: '',\n};\n\nexport default DateFilterWrapper;\n","import React from 'react';\n\nfunction NotFoundPage() {\n  return (\n    <h1 className='page-title'>\n      <span className='notFoundCode'>404:</span>\n      &nbsp;Страница не найдена\n    </h1>\n  );\n}\n\nexport default NotFoundPage;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport classNames from 'classnames';\n\nimport { range as makeRange } from '../utils/array';\n\nimport './SliderWireframe.scss';\n\nfunction Wireframe({ min, max, valuePerStep, formatLabel, labelMarkStep }) {\n  const rangeUnits = makeRange(min, max, valuePerStep);\n  const lastUnit = max;\n\n  const islabelMarkStep = step => step % labelMarkStep === 0;\n  const isFirstStep = step => step === 0;\n\n  return (\n    <>\n      {rangeUnits.map((unit, step) =>\n        islabelMarkStep(step) ? (\n          <div key={unit} className='time-interval-with-mark-box'>\n            <p className={classNames('mark-label', { first: isFirstStep(step) })}>\n              {formatLabel(unit)}\n            </p>\n            <div\n              className={classNames('time-interval with-mark', {\n                first: isFirstStep(step),\n              })}\n            />\n          </div>\n        ) : (\n          <div key={unit} className={classNames('time-interval')} />\n        ),\n      )}\n      <div className='invisible-time-interval-with-mark-box'>\n        <p className='mark-label last'>{formatLabel(lastUnit)}</p>\n        <div className={classNames('invisible-time-interval with-mark')} />\n      </div>\n    </>\n  );\n}\n\nWireframe.propTypes = {\n  min: PropTypes.number.isRequired,\n  max: PropTypes.number.isRequired,\n  formatLabel: PropTypes.func.isRequired,\n  valuePerStep: PropTypes.number.isRequired,\n  labelMarkStep: PropTypes.number,\n};\n\nWireframe.defaultProps = {\n  labelMarkStep: 4,\n};\n\nexport default Wireframe;\n","function range(start, end, step = 1) {\n  const range = [];\n  for (let i = start; i < end; i += step) {\n    range.push(i);\n  }\n  return range;\n}\n\nexport { range };\n","function clamp(value, min, max) {\n  return Math.max(min, Math.min(max, value));\n}\n\nexport { clamp };\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { isEqual } from 'lodash';\n\nimport { clamp } from '../utils/clamp';\n\nimport './SelectedRange.scss';\n\nconst CSS_UNIT = '%';\n\nclass SelectedRange extends React.Component {\n  static propTypes = {\n    normalizedRange: PropTypes.shape({\n      start: PropTypes.number.isRequired,\n      end: PropTypes.number.isRequired,\n    }).isRequired,\n    pagePositionToNormalizedValue: PropTypes.func.isRequired,\n    onChange: PropTypes.func.isRequired,\n    onChangeStart: PropTypes.func,\n    onChangeEnd: PropTypes.func,\n    selectedRangeRef: PropTypes.func,\n  };\n\n  static defaultProps = {\n    onChangeStart: () => {},\n    onChangeEnd: () => {},\n    selectedRangeRef: null,\n  };\n\n  cursorShift = null;\n\n  grab = event => {\n    const { target: selectedRange, pageX: cursorX } = event;\n    const { onChangeStart } = this.props;\n\n    const selectedRangeLeft = selectedRange.getBoundingClientRect().left;\n    this.cursorShift = cursorX - selectedRangeLeft;\n\n    document.addEventListener('pointermove', this.move);\n    document.addEventListener('pointerup', this.release);\n\n    onChangeStart();\n\n    event.stopPropagation();\n    event.preventDefault();\n  };\n\n  move = event => {\n    const { pageX: cursorPageValue } = event;\n    const { normalizedRange, onChange } = this.props;\n    const { pagePositionToNormalizedValue: normalizeValue } = this.props;\n\n    const normalizedRangeLength = normalizedRange.end - normalizedRange.start;\n\n    const newNormalizedRangeStart = normalizeValue(cursorPageValue - this.cursorShift);\n    const newNormalizedRangeEnd = newNormalizedRangeStart + normalizedRangeLength;\n\n    const newNormalizedRange = {\n      start: clamp(newNormalizedRangeStart, 0, 1 - normalizedRangeLength),\n      end: clamp(newNormalizedRangeEnd, normalizedRangeLength, 1),\n    };\n\n    if (!isEqual(newNormalizedRange, normalizedRange)) {\n      onChange(newNormalizedRange);\n    }\n\n    event.stopPropagation();\n    event.preventDefault();\n  };\n\n  release = event => {\n    document.removeEventListener('pointermove', this.move);\n    document.removeEventListener('pointerup', this.release);\n\n    const { onChangeEnd } = this.props;\n    onChangeEnd();\n\n    event.stopPropagation();\n    event.preventDefault();\n  };\n\n  render() {\n    const { normalizedRange, selectedRangeRef } = this.props;\n\n    const selectedRangeStart = Math.min(normalizedRange.start, normalizedRange.end);\n    const selectedRangeLength = Math.abs(normalizedRange.end - normalizedRange.start);\n\n    return (\n      <div\n        ref={selectedRangeRef}\n        className='selected-range'\n        style={{\n          left: selectedRangeStart * 100 + CSS_UNIT,\n          width: selectedRangeLength * 100 + CSS_UNIT,\n        }}\n        onPointerDown={this.grab}\n      />\n    );\n  }\n}\n\nexport default SelectedRange;\n","import React from 'react';\nimport PropTypes from 'prop-types';\n\nimport { clamp } from '../utils/clamp';\n\nimport './Handle.scss';\n\nconst CSS_UNIT = '%';\n\nclass Handle extends React.Component {\n  static propTypes = {\n    name: PropTypes.string.isRequired,\n    normalizedValue: PropTypes.number.isRequired,\n    pagePositionToNormalizedValue: PropTypes.func.isRequired,\n    onChange: PropTypes.func.isRequired,\n    onChangeStart: PropTypes.func,\n    onChangeEnd: PropTypes.func,\n    handleRef: PropTypes.func,\n  };\n\n  static defaultProps = {\n    onChangeStart: () => {},\n    onChangeEnd: () => {},\n    handleRef: null,\n  };\n\n  cursorShift = null;\n\n  grab = event => {\n    const { target: handle, pageX: cursorX } = event;\n    const { onChangeStart, name } = this.props;\n\n    const handleLeft = handle.getBoundingClientRect().left;\n    this.cursorShift = cursorX - handleLeft;\n\n    document.addEventListener('pointermove', this.move);\n    document.addEventListener('pointerup', this.release);\n\n    onChangeStart(name);\n\n    event.stopPropagation();\n    event.preventDefault();\n  };\n\n  move = event => {\n    const { pageX: cursorPagePosition } = event;\n    const { normalizedValue: oldValue, onChange, name } = this.props;\n    const { pagePositionToNormalizedValue: normalizeValue } = this.props;\n\n    const normalizedValue = normalizeValue(cursorPagePosition - this.cursorShift);\n    const newValue = clamp(normalizedValue, 0, 1);\n\n    if (newValue !== oldValue) {\n      onChange(name, newValue);\n    }\n\n    event.stopPropagation();\n    event.preventDefault();\n  };\n\n  release = event => {\n    document.removeEventListener('pointermove', this.move);\n    document.removeEventListener('pointerup', this.release);\n\n    const { onChangeEnd, name } = this.props;\n    onChangeEnd(name);\n\n    event.stopPropagation();\n    event.preventDefault();\n  };\n\n  render() {\n    const { handleRef, normalizedValue } = this.props;\n    return (\n      <div\n        className='slider-handle'\n        ref={handleRef}\n        style={{\n          left: normalizedValue * 100 + CSS_UNIT,\n          transform: 'translateX(-50%)',\n        }}\n        onPointerDown={this.grab}\n      />\n    );\n  }\n}\n\nHandle.propTypes = {};\n\nexport default Handle;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport classNames from 'classnames';\nimport { isEqual } from 'lodash';\n\nimport { SliderWireframe } from './SliderWireframe';\nimport { SelectedRange } from './SelectedRange';\nimport { Handle } from './Handle';\n\nimport './RangeSlider.scss';\n\nconst MODE = {\n  IDLE: 0,\n  DRAG: 1,\n};\n\nclass RangeSlider extends React.Component {\n  static propTypes = {\n    min: PropTypes.number.isRequired,\n    max: PropTypes.number.isRequired,\n    selectedRange: PropTypes.shape({\n      start: PropTypes.number.isRequired,\n      end: PropTypes.number.isRequired,\n    }).isRequired,\n    onChange: PropTypes.func.isRequired,\n    formatLabel: PropTypes.func.isRequired,\n    valuePerStep: PropTypes.number,\n    labelMarkStep: PropTypes.number,\n    className: PropTypes.string,\n  };\n\n  static defaultProps = {\n    valuePerStep: 1,\n    labelMarkStep: 4,\n    className: '',\n  };\n\n  state = {\n    mode: MODE.IDLE,\n    selectedRange: {\n      start: null,\n      end: null,\n    },\n  };\n\n  firstHandleName = 'start';\n  secondHandleName = 'end';\n\n  componentDidMount() {\n    this.measureElementsSize();\n    window.addEventListener('resize', this.handleResize);\n  }\n\n  shouldComponentUpdate(nextProps, nextState) {\n    const stateChanged = !isEqual(nextState, this.state);\n    const propsChanged = !isEqual(nextState, this.props);\n\n    const { mode } = this.state;\n    return stateChanged || (propsChanged && mode !== MODE.DRAG);\n  }\n\n  handleResize = () => {\n    this.measureElementsSize();\n  };\n\n  measureElementsSize() {\n    const { width, left } = this.slider.getBoundingClientRect();\n    this.sliderWidth = width;\n    this.sliderLeft = left;\n  }\n\n  handleChangeStart = () => {\n    this.switchToDragMode();\n  };\n\n  handleChangeEnd = () => {\n    this.switchToIdleMode();\n    this.animateSelectedRangeRounding();\n  };\n\n  switchToDragMode() {\n    const { selectedRange } = this.props;\n    this.setState({ mode: MODE.DRAG, selectedRange });\n  }\n\n  switchToIdleMode() {\n    this.setState({ mode: MODE.IDLE, selectedRange: null });\n  }\n\n  animateSelectedRangeRounding() {\n    this.selectedRange.classList.add('smooth-position-transition');\n    this.firstHandle.classList.add('smooth-position-transition');\n    this.secondHandle.classList.add('smooth-position-transition');\n\n    setTimeout(this.finishSelectedRangeRoundingAnimation, 500);\n  }\n\n  finishSelectedRangeRoundingAnimation = () => {\n    this.selectedRange.classList.remove('smooth-position-transition');\n    this.firstHandle.classList.remove('smooth-position-transition');\n    this.secondHandle.classList.remove('smooth-position-transition');\n  };\n\n  handleHandleValueChange = (handle, value) => {\n    const { selectedRange } = this.state;\n\n    const normalizedRange = this.absoluteRangeToNormalized(selectedRange);\n    normalizedRange[handle] = value;\n\n    if (normalizedRange.start > normalizedRange.end) {\n      [normalizedRange.start, normalizedRange.end] = [normalizedRange.end, normalizedRange.start];\n      this.swapHandlesWhileDrag();\n    }\n\n    this.handleSelectedRangeChange(normalizedRange);\n  };\n\n  swapHandlesWhileDrag() {\n    [this.firstHandleName, this.secondHandleName] = [this.secondHandleName, this.firstHandleName];\n    this.handlesSwappedWhileDrag = !this.handlesSwappedWhileDrag;\n  }\n\n  handleSelectedRangeChange = normalizedRange => {\n    const absoluteRange = this.normalizedRangeToAbsolute(normalizedRange);\n    this.setState({ selectedRange: absoluteRange });\n\n    const { onChange } = this.props;\n    const roundedRange = {\n      start: this.roundValue(absoluteRange.start),\n      end: this.roundValue(absoluteRange.end),\n    };\n\n    onChange(roundedRange);\n  };\n\n  roundValue = value => {\n    const { valuePerStep } = this.props;\n    return Math.round(value / valuePerStep) * valuePerStep;\n  };\n\n  normalizedRangeToAbsolute = absoluteRange => ({\n    start: this.normalizedValueToAbsolute(absoluteRange.start),\n    end: this.normalizedValueToAbsolute(absoluteRange.end),\n  });\n\n  absoluteRangeToNormalized = absoluteRange => ({\n    start: this.absoluteValueToNormalized(absoluteRange.start),\n    end: this.absoluteValueToNormalized(absoluteRange.end),\n  });\n\n  normalizedValueToAbsolute = normalizedValue => {\n    const { min, max } = this.props;\n    return normalizedValue * (max - min) + min;\n  };\n\n  absoluteValueToNormalized = absoluteValue => {\n    const { min, max } = this.props;\n    return (absoluteValue - min) / (max - min);\n  };\n\n  pagePositionToNormalizedValue = position => {\n    return (position - this.sliderLeft) / this.sliderWidth;\n  };\n\n  setSliderRef = slider => (this.slider = slider);\n\n  setSelectedRangeRef = selectedRange => (this.selectedRange = selectedRange);\n\n  setFirstHandleRef = handle => (this.firstHandle = handle);\n\n  setSecondHandleRef = handle => (this.secondHandle = handle);\n\n  getSelectedRange() {\n    const { mode } = this.state;\n    switch (mode) {\n      case MODE.IDLE:\n        return this.props.selectedRange;\n      case MODE.DRAG:\n        return this.state.selectedRange;\n    }\n  }\n\n  render() {\n    const { min, max, formatLabel, valuePerStep, labelMarkStep, className } = this.props;\n\n    const selectedRange = this.getSelectedRange();\n    const normalizedSelectedRange = this.absoluteRangeToNormalized(selectedRange);\n\n    return (\n      <div ref={this.setSliderRef} className={classNames('slider-box', className)}>\n        <Handle\n          name={this.firstHandleName}\n          handleRef={this.setFirstHandleRef}\n          normalizedValue={normalizedSelectedRange[this.firstHandleName]}\n          onChange={this.handleHandleValueChange}\n          onChangeStart={this.handleChangeStart}\n          onChangeEnd={this.handleChangeEnd}\n          pagePositionToNormalizedValue={this.pagePositionToNormalizedValue}\n        />\n        <Handle\n          name={this.secondHandleName}\n          handleRef={this.setSecondHandleRef}\n          normalizedValue={normalizedSelectedRange[this.secondHandleName]}\n          onChange={this.handleHandleValueChange}\n          onChangeStart={this.handleChangeStart}\n          onChangeEnd={this.handleChangeEnd}\n          pagePositionToNormalizedValue={this.pagePositionToNormalizedValue}\n        />\n        <SelectedRange\n          selectedRangeRef={this.setSelectedRangeRef}\n          normalizedRange={normalizedSelectedRange}\n          onChange={this.handleSelectedRangeChange}\n          onChangeStart={this.handleChangeStart}\n          onChangeEnd={this.handleChangeEnd}\n          pagePositionToNormalizedValue={this.pagePositionToNormalizedValue}\n        />\n        <SliderWireframe\n          min={min}\n          max={max}\n          selectedRange={selectedRange}\n          valuePerStep={valuePerStep}\n          labelMarkStep={labelMarkStep}\n          formatLabel={formatLabel}\n        />\n      </div>\n    );\n  }\n}\n\nexport default RangeSlider;\n","import React, { useEffect, useState } from 'react';\nimport PropTypes from 'prop-types';\nimport { connect } from 'react-redux';\n\nimport { Gallery } from '../../../base-components/Gallery';\nimport { Spinner } from '../../common/Spinner';\nimport { ErrorPage } from '../../common/ErrorPage';\nimport { SeancesListContainer } from './SeancesList';\nimport { DateFilter } from '../movies-page/DateFilter';\nimport { NotFoundPage } from '../../common/NotFoundPage';\nimport { RangeSlider } from '../../../base-components/RangeSlider';\nimport { fetchMovieRequest } from '../../../../ducks/data/movies/actions';\nimport { MINUTES_IN_HOUR, toTimeLabel } from '../../../../utils/time';\nimport { SEANCES_TIME_RANGE } from '../../../../constants';\nimport { getTodayDate } from '../../../../utils/date';\n\nimport {\n  selectMoviesError,\n  selectSelectedMovie,\n} from '../../../../ducks/data/movies/selectors';\n\nimport './MoviePage.scss';\n\nfunction MoviePage({ movie }) {\n  const [selectedDate, setSelectedDate] = useState(getTodayDate());\n\n  const [selectedRange, setSelectedRange] = useState(SEANCES_TIME_RANGE);\n  const handleResetFiltersSettings = () => {\n    setSelectedRange(SEANCES_TIME_RANGE);\n  };\n\n  return (\n    <>\n      <h1 className='page-title'>{movie.name}</h1>\n      <Gallery items={movie.frames} className='movie-frames-gallery' />\n      <p className='movie-description'>{movie.description}</p>\n      <ul className='movie-extra-info'>\n        <li>\n          <label className='label' htmlFor='genres'>\n            Жанры:\n          </label>\n          <p id='genres'>{movie.genres.join(', ')}</p>\n        </li>\n        <li>\n          <label className='label' htmlFor='duration'>\n            Длительность:\n          </label>\n          <p id='duration'>{`${movie.duration} мин.`}</p>\n        </li>\n      </ul>\n      <div className='schedule-container'>\n        <h2 className='schedule-title'>Расписание</h2>\n        <div className='filters-container'>\n          <DateFilter\n            className='movie-date-filter'\n            selectedDate={selectedDate}\n            selectDate={setSelectedDate}\n          />\n          <RangeSlider\n            className='movie-time-range-slider'\n            min={SEANCES_TIME_RANGE.start}\n            max={SEANCES_TIME_RANGE.end}\n            valuePerStep={MINUTES_IN_HOUR}\n            selectedRange={selectedRange}\n            onChange={setSelectedRange}\n            formatLabel={toTimeLabel}\n          />\n        </div>\n        <SeancesListContainer\n          movieName={movie.name}\n          movieId={movie.id}\n          selectedDate={selectedDate}\n          selectedRange={selectedRange}\n          resetFiltersSettings={handleResetFiltersSettings}\n        />\n      </div>\n    </>\n  );\n}\n\nMoviePage.propTypes = {\n  movie: PropTypes.shape({\n    id: PropTypes.number.isRequired,\n    name: PropTypes.string.isRequired,\n    description: PropTypes.string.isRequired,\n    genres: PropTypes.arrayOf(PropTypes.string.isRequired).isRequired,\n    duration: PropTypes.number.isRequired,\n    frames: PropTypes.arrayOf(\n      PropTypes.shape({\n        url: PropTypes.string.isRequired,\n        description: PropTypes.string.isRequired,\n      }),\n    ).isRequired,\n  }).isRequired,\n};\n\n// eslint-disable-next-line react/prop-types\nfunction MoviePageContainer({ movie, fetchMovie, match, error, ...props }) {\n  if (error) {\n    return error.name === 'NotFoundError' ? <NotFoundPage /> : <ErrorPage />;\n  }\n\n  const movieId = parseInt(match.params.id, 10);\n  useEffect(() => {\n    fetchMovie(movieId);\n  }, []);\n\n  return movie ? (\n    <MoviePage movie={movie} {...props} />\n  ) : (\n    <Spinner className='page-spinner-container' />\n  );\n}\n\nconst mapStateToProps = state => ({\n  movie: selectSelectedMovie(state),\n  error: selectMoviesError(state),\n});\n\nconst mapDispatchToProps = {\n  fetchMovie: fetchMovieRequest,\n};\n\nexport default connect(\n  mapStateToProps,\n  mapDispatchToProps,\n)(MoviePageContainer);\n","import React from 'react';\nimport PropTypes from 'prop-types';\n\nimport crossIcon from '../../../../../assets/images/dark-cross-icon.svg';\nimport searchIcon from '../../../../../assets/images/search-icon.svg';\n\nimport './Search.scss';\n\nfunction Search({ hint, placeholder, onHintChange, resetHint, className }) {\n  return (\n    <div className={className}>\n      <div className='input-box'>\n        <img alt='' src={searchIcon} className='search-icon' />\n        <input\n          value={hint}\n          placeholder={placeholder}\n          className='search-input'\n          onChange={onHintChange}\n        />\n        {hint && (\n          <img\n            aria-label='reset icon'\n            alt='reset-icon'\n            src={crossIcon}\n            className='reset-icon smoothly-enhance-on-hover'\n            onClick={resetHint}\n          />\n        )}\n      </div>\n    </div>\n  );\n}\n\nSearch.propTypes = {\n  hint: PropTypes.string.isRequired,\n  placeholder: PropTypes.string.isRequired,\n  onHintChange: PropTypes.func.isRequired,\n  resetHint: PropTypes.func.isRequired,\n  className: PropTypes.string,\n};\n\nSearch.defaultProps = {\n  className: '',\n};\n\nexport default Search;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport classNames from 'classnames';\nimport { withRouter } from 'react-router-dom';\n\nimport { Seances } from '../../common/Seances';\nimport { createRoute } from '../../../../../utils/routes';\nimport { ROUTE } from '../../../../../constants';\n\nimport './Movie.scss';\n\nfunction Movie({ id, name, genres, poster, seances, className, history }) {\n  const goToMoviePage = () => history.push(createRoute(ROUTE.MOVIE, { id }));\n\n  return (\n    <div className={classNames('movie-box', className)}>\n      <img\n        alt='movie poster'\n        className='poster'\n        src={poster}\n        onClick={goToMoviePage}\n      />\n      <div className='main-info'>\n        <p className='genres'>{genres.join(', ')}</p>\n        <p className='title' onClick={goToMoviePage}>\n          {name}\n        </p>\n      </div>\n      <Seances movieName={name} seances={seances} className='seances' />\n    </div>\n  );\n}\n\nMovie.propTypes = {\n  id: PropTypes.number.isRequired,\n  name: PropTypes.string.isRequired,\n  genres: PropTypes.arrayOf(PropTypes.string.isRequired).isRequired,\n  poster: PropTypes.string.isRequired,\n  seances: PropTypes.objectOf(\n    PropTypes.arrayOf(\n      PropTypes.shape({\n        id: PropTypes.string.isRequired,\n        startTime: PropTypes.number.isRequired,\n        price: PropTypes.number.isRequired,\n      }),\n    ),\n  ).isRequired,\n  history: PropTypes.object.isRequired,\n  className: PropTypes.string,\n};\n\nMovie.defaultProps = {\n  className: '',\n};\n\nexport default withRouter(Movie);\n","function createRoute(apiURL, replacer) {\n  const key = Object.keys(replacer)[0];\n  return apiURL.replace(`:${key}`, replacer[key]);\n}\n\nexport { createRoute };\n","import React, { useEffect, useMemo } from 'react';\nimport PropTypes from 'prop-types';\nimport { connect } from 'react-redux';\n\nimport { Movie } from '../Movie';\nimport { Spinner } from '../../../common/Spinner';\nimport { NotFoundComponent } from '../../../common/NotFoundComponent';\nimport { NoScheduleComponent } from '../../../common/NoScheduleComponent';\nimport { fetchMoviesRequest } from '../../../../../ducks/data/movies/actions';\nimport { selectMovies } from '../../../../../ducks/data/movies/selectors';\nimport { keepSeancesAt } from '../../utils/movies';\n\nimport './MoviesList.scss';\n\nconst MOVIES_STATE = {\n  LOADING: 0,\n  SCHEDULE_NOT_EXIST: 1,\n  NOT_FOUND: 2,\n  FOUND: 3,\n};\n\nfunction getMoviesState(movies, selectedMovies) {\n  if (!movies.length) {\n    return MOVIES_STATE.SCHEDULE_NOT_EXIST;\n  }\n  if (!selectedMovies.length) {\n    return MOVIES_STATE.NOT_FOUND;\n  }\n  return MOVIES_STATE.FOUND;\n}\n\nfunction MoviesList({\n  movies,\n  movieHint,\n  selectedRange,\n  selectedDate,\n  resetFiltersSettings,\n}) {\n  const selectedMovies = useMemo(\n    () =>\n      movies\n        .filter(movie =>\n          movie.name.toLowerCase().includes(movieHint.toLowerCase().trim()),\n        )\n        .map(movie => ({\n          ...movie,\n          seances: keepSeancesAt(selectedDate, selectedRange, movie.seances),\n        }))\n        .filter(movie => movie.seances),\n    [movies, movieHint, selectedRange],\n  );\n\n  const moviesState = getMoviesState(movies, selectedMovies);\n  switch (moviesState) {\n    case MOVIES_STATE.LOADING:\n      return <Spinner className='info-box' />;\n    case MOVIES_STATE.SCHEDULE_NOT_EXIST:\n      return <NoScheduleComponent className='info-box' />;\n    case MOVIES_STATE.NOT_FOUND:\n      return (\n        <NotFoundComponent\n          className='info-box'\n          resetSettings={resetFiltersSettings}\n        />\n      );\n    case MOVIES_STATE.FOUND:\n      return (\n        <ul className='movie-list'>\n          {selectedMovies.map(movie => (\n            <Movie\n              key={movie.id}\n              id={movie.id}\n              name={movie.name}\n              genres={movie.genres}\n              poster={movie.poster}\n              seances={movie.seances}\n            />\n          ))}\n        </ul>\n      );\n  }\n}\n\nMoviesList.propTypes = {\n  movies: PropTypes.arrayOf(\n    PropTypes.shape({\n      id: PropTypes.number.isRequired,\n      name: PropTypes.string.isRequired,\n      genres: PropTypes.arrayOf(PropTypes.string.isRequired).isRequired,\n      poster: PropTypes.string.isRequired,\n      seances: PropTypes.objectOf(\n        PropTypes.arrayOf(\n          PropTypes.shape({\n            id: PropTypes.string.isRequired,\n            startTime: PropTypes.number.isRequired,\n            price: PropTypes.number.isRequired,\n          }),\n        ),\n      ).isRequired,\n    }),\n  ).isRequired,\n  movieHint: PropTypes.string.isRequired,\n  selectedRange: PropTypes.shape({\n    start: PropTypes.number.isRequired,\n    end: PropTypes.number.isRequired,\n  }).isRequired,\n  selectedDate: PropTypes.string.isRequired,\n  resetFiltersSettings: PropTypes.func.isRequired,\n};\n\n// eslint-disable-next-line react/prop-types\nfunction MoviesListContainer({ movies, selectedDate, fetchMovies, ...props }) {\n  useEffect(() => {\n    fetchMovies(selectedDate);\n  }, [selectedDate]);\n\n  return movies ? (\n    <MoviesList movies={movies} selectedDate={selectedDate} {...props} />\n  ) : (\n    <Spinner className='info-box' />\n  );\n}\n\nconst mapStateToProps = state => ({\n  movies: selectMovies(state),\n});\n\nconst mapDispatchToProps = {\n  fetchMovies: fetchMoviesRequest,\n};\n\nexport default connect(\n  mapStateToProps,\n  mapDispatchToProps,\n)(MoviesListContainer);\n","import React, { useState } from 'react';\n\nimport { Search } from './Search';\nimport { DateFilter } from './DateFilter';\nimport { MoviesListContainer } from './MoviesList';\nimport { RangeSlider } from '../../../base-components/RangeSlider';\nimport { MINUTES_IN_HOUR, toTimeLabel } from '../../../../utils/time';\nimport { SEANCES_TIME_RANGE } from '../../../../constants';\nimport { getTodayDate } from '../../../../utils/date';\n\nimport './MoviesPage.scss';\n\nconst MOVIE_SEARCH_PLACEHOLDER = 'Название';\n\nfunction MoviesPage() {\n  const [movieHint, setMovieHint] = useState('');\n  const [selectedRange, setSelectedRange] = useState(SEANCES_TIME_RANGE);\n  const [selectedDate, setSelectedDate] = useState(getTodayDate());\n\n  const handleResetFiltersSettings = () => {\n    setMovieHint('');\n    setSelectedRange(SEANCES_TIME_RANGE);\n  };\n\n  return (\n    <>\n      <h1 className='page-title'>Расписание</h1>\n      <DateFilter\n        className='movies-date-filter'\n        selectedDate={selectedDate}\n        selectDate={setSelectedDate}\n      />\n      <div className='sub-filters'>\n        <Search\n          hint={movieHint}\n          placeholder={MOVIE_SEARCH_PLACEHOLDER}\n          onHintChange={event => setMovieHint(event.target.value)}\n          resetHint={() => setMovieHint('')}\n          className='search'\n        />\n        <RangeSlider\n          className='time-range-slider'\n          min={SEANCES_TIME_RANGE.start}\n          max={SEANCES_TIME_RANGE.end}\n          valuePerStep={MINUTES_IN_HOUR}\n          selectedRange={selectedRange}\n          onChange={setSelectedRange}\n          formatLabel={toTimeLabel}\n        />\n      </div>\n      <MoviesListContainer\n        movieHint={movieHint}\n        selectedRange={selectedRange}\n        selectedDate={selectedDate}\n        resetFiltersSettings={handleResetFiltersSettings}\n      />\n    </>\n  );\n}\n\nexport default MoviesPage;\n","import React from 'react';\nimport { Redirect, Route, Switch, withRouter } from 'react-router-dom';\n\nimport { BestDealsPage } from '../bestDeals/BestDealsPage';\nimport { MoviePageContainer } from '../movies/movie-page';\nimport { MoviesPage } from '../movies/movies-page';\nimport { ROUTE } from '../../../constants';\n\nfunction Routes(location) {\n  return (\n    <Switch>\n      <Route\n        location={location}\n        exact\n        path={ROUTE.MOVIES}\n        component={MoviesPage}\n      />\n      <Route\n        location={location}\n        exact\n        path={ROUTE.MOVIE}\n        component={MoviePageContainer}\n      />\n      <Route\n        location={location}\n        exact\n        path={ROUTE.SOON_MOVIES}\n        component={BestDealsPage}\n      />\n      <Route\n        location={location}\n        exact\n        path={ROUTE.BEST_DEALS}\n        component={BestDealsPage}\n      />\n      <Redirect to={ROUTE.MOVIES} />\n    </Switch>\n  );\n}\n\nRoutes.propTypes = {};\n\nexport default withRouter(Routes);\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport classNames from 'classnames';\nimport { FocusOn } from 'react-focus-on';\n\nimport crossIcon from '../../../assets/images/dark-cross-icon.svg';\n\nimport './Modal.scss';\n\nfunction Modal({ children, onClose, showCloseIcon, className }) {\n  return (\n    <FocusOn onEscapeKey={onClose}>\n      <div className='modal-overlay' onClick={onClose} />\n      <div className={classNames('modal', className)}>\n        {showCloseIcon && (\n          <input\n            type='image'\n            alt='close'\n            src={crossIcon}\n            tabIndex={0}\n            onClick={onClose}\n            className='close-icon'\n            aria-label='button to close modal'\n          />\n        )}\n        {children}\n      </div>\n    </FocusOn>\n  );\n}\n\nModal.propTypes = {\n  children: PropTypes.any.isRequired,\n  onClose: PropTypes.func,\n  showCloseIcon: PropTypes.bool,\n  className: PropTypes.string,\n};\n\nModal.defaultProps = {\n  isOpen: true,\n  onClose: () => {},\n  showCloseIcon: true,\n  className: '',\n};\n\nexport default Modal;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { connect } from 'react-redux';\n\nimport { Modal } from '../../../base-components/Modal';\nimport { Button } from '../../../base-components/Button';\nimport { closeModal } from '../../../../ducks/ui/modals/actions';\n\nimport './StatusModal.scss';\n\nfunction StatusModal({ statusMsg, icon, closeButtonLabel, closeModal }) {\n  return (\n    <Modal className='status-modal' onClose={closeModal} showCloseIcon={false}>\n      <div className='status-msg-box'>\n        <img alt='' className='icon' src={icon} />\n        <p className='status-msg'>{statusMsg}</p>\n        <Button className='close-btn' onClick={closeModal}>\n          {closeButtonLabel}\n        </Button>\n      </div>\n    </Modal>\n  );\n}\n\nconst mapDispatchToProps = {\n  closeModal,\n};\n\nStatusModal.propTypes = {\n  closeModal: PropTypes.func.isRequired,\n};\n\nexport default connect(\n  null,\n  mapDispatchToProps,\n)(StatusModal);\n","import React from 'react';\n\nimport { StatusModal } from '../../common/StatusModal';\n\nimport sadnessIcon from '../../../../assets/images/sad-icon.svg';\n\nfunction ReservationFailureModal() {\n  return (\n    <StatusModal\n      statusMsg={'К сожалению, пока вы выбирали,\\n эти места уже заняли'}\n      icon={sadnessIcon}\n      closeButtonLabel='Ок'\n    />\n  );\n}\n\nexport default ReservationFailureModal;\n","import React from 'react';\n\nimport { StatusModal } from '../../common/StatusModal';\n\nimport sadnessIcon from '../../../../assets/images/sad-icon.svg';\n\nfunction NotAvailableAuthModal() {\n  return (\n    <StatusModal\n      statusMsg={\n        'К сожалению, в вашем регионе\\nне доступна функция авторизации'\n      }\n      icon={sadnessIcon}\n      closeButtonLabel='Ок'\n    />\n  );\n}\n\nexport default NotAvailableAuthModal;\n","import React from 'react';\n\nimport { StatusModal } from '../../common/StatusModal';\n\nimport congratIcon from '../../../../assets/images/congrat-icon.svg';\n\nfunction PaymentSuccessModal() {\n  return (\n    <StatusModal\n      statusMsg='Оплата прошла успешно!'\n      icon={congratIcon}\n      closeButtonLabel='Ок'\n    />\n  );\n}\n\nexport default PaymentSuccessModal;\n","import { useState, useCallback, useMemo } from 'react';\n\nfunction useInputState({\n  initialValue,\n  shouldMatch = '/.*/',\n  required = false,\n}) {\n  const [input, setInput] = useState(initialValue);\n  const [touched, setTouched] = useState(false);\n\n  const handleInputChange = useCallback(event => {\n    setInput(event.target.value);\n    setTouched(true);\n  }, shouldMatch);\n\n  const handleBlur = useCallback(() => {\n    setTouched(true);\n  }, []);\n\n  const valid = useMemo(() => {\n    const matchPattern = shouldMatch.test(input);\n    const notEmpty = input !== '';\n\n    return (!required || notEmpty) && matchPattern;\n  }, [input, shouldMatch, required]);\n\n  return [input, handleInputChange, handleBlur, valid, touched];\n}\n\nexport { useInputState };\n","export function selectReservationStatus(state) {\n  return state.tickets.reservationStatus;\n}\n\nexport function selectPaymentStatus(state) {\n  return state.tickets.paymentStatus;\n}\n","export const RESERVE_TICKETS = {\n  REQUEST: '@@tickets/RESERVE_TICKETS_REQUEST',\n  SUCCESS: '@@tickets/RESERVE_TICKETS_SUCCESS',\n  ERROR: '@@tickets/RESERVE_TICKETS_ERROR',\n};\n\nexport const PAY_TICKETS = {\n  REQUEST: '@@tickets/PAY_TICKETS_REQUEST',\n  SUCCESS: '@@tickets/PAY_TICKETS_SUCCESS',\n  ERROR: '@@tickets/PAY_TICKETS_ERROR',\n};\n\nexport const RESET_RESERVATION_STATUS = '@@tickets/RESET_RESERVATION_STATUS';\n\nexport const RESET_PAYMENT_STATUS = '@@tickets/RESET_PAYMENT_STATUS';\n","import {\n  PAY_TICKETS,\n  RESERVE_TICKETS,\n  RESET_PAYMENT_STATUS,\n  RESET_RESERVATION_STATUS,\n} from './action-types';\n\nexport const reserveTicketsRequest = (seanceId, seatsId) => {\n  return {\n    type: RESERVE_TICKETS.REQUEST,\n    seanceId,\n    seatsId,\n  };\n};\n\nexport const reserveTicketsSuccess = (seanceId, reservedSeatsId) => {\n  return {\n    type: RESERVE_TICKETS.SUCCESS,\n    reservedSeatsId,\n  };\n};\n\nexport const reserveTicketsError = error => {\n  return {\n    type: RESERVE_TICKETS.ERROR,\n    error,\n  };\n};\n\nexport const resetReservationStatus = () => {\n  return {\n    type: RESET_RESERVATION_STATUS,\n  };\n};\n\nexport const payTicketsRequest = (seanceId, seatsId) => {\n  return {\n    type: PAY_TICKETS.REQUEST,\n    seanceId,\n    seatsId,\n  };\n};\n\nexport const payTicketsSuccess = (seanceId, seatsId) => {\n  return {\n    type: PAY_TICKETS.SUCCESS,\n    seanceId,\n    seatsId,\n  };\n};\n\nexport const payTicketsError = error => {\n  return {\n    type: PAY_TICKETS.ERROR,\n    error,\n  };\n};\n\nexport const resetPaymentStatus = () => {\n  return {\n    type: RESET_PAYMENT_STATUS,\n  };\n};\n","import React, { useEffect, useMemo, useCallback } from 'react';\nimport PropTypes from 'prop-types';\nimport { connect } from 'react-redux';\nimport classNames from 'classnames';\nimport Card from 'react-credit-cards';\nimport declint from 'declint-ru';\n\nimport { Spinner } from '../../common/Spinner';\nimport { Button } from '../../../base-components/Button';\nimport { useInputState } from '../../../../hooks/useInputState';\nimport { useFocusState } from '../../../../hooks/useFocusState';\nimport { closeModal, showModal } from '../../../../ducks/ui/modals/actions';\nimport { selectPaymentStatus } from '../../../../ducks/data/tickets/selectors';\nimport { MODAL, RUSSIAN_CURRENCY_SYMBOL, STATUS } from '../../../../constants';\n\nimport {\n  payTicketsRequest,\n  resetPaymentStatus,\n  resetReservationStatus,\n} from '../../../../ducks/data/tickets/actions';\n\nimport 'react-credit-cards/lib/styles.scss';\nimport './TicketsPaymentPage.scss';\n\nfunction TicketsPaymentPage({\n  orderDetails,\n  payTickets,\n  paymentStatus,\n  showModal,\n  closeModal,\n  resetReservationStatus,\n  resetPaymentStatus,\n}) {\n  useEffect(() => {\n    resetReservationStatus();\n  }, []);\n\n  const [\n    number,\n    handleNumberChange,\n    handleNumberBlur,\n    numberValid,\n    numberTouched,\n  ] = useInputState({\n    initialValue: '',\n    shouldMatch: useMemo(() => /^[\\d| ]{16,19}$/, []),\n    required: true,\n  });\n  const [\n    name,\n    handleNameChange,\n    handleNameBlur,\n    nameValid,\n    nameTouched,\n  ] = useInputState({\n    initialValue: '',\n    shouldMatch: useMemo(() => /^[[a-zA-Z]| ]+$/, []),\n    required: true,\n  });\n  const [\n    expiry,\n    handleExpiryChange,\n    handleExpiryBlur,\n    expiryValid,\n    expiryTouched,\n  ] = useInputState({\n    initialValue: '',\n    shouldMatch: useMemo(() => /^\\d\\d\\/\\d\\d$/, []),\n    required: true,\n  });\n  const [\n    cvc,\n    handleCvcChange,\n    handleCvcBlur,\n    cvcValid,\n    cvcTouched,\n  ] = useInputState({\n    initialValue: '',\n    shouldMatch: useMemo(() => /^\\d{3,4}$/, []),\n    required: true,\n  });\n\n  const allValid = useMemo(() => {\n    return numberValid && nameValid && expiryValid && cvcValid;\n  }, [numberValid, nameValid, expiryValid, cvcValid]);\n\n  const [focused, handleFocusChange] = useFocusState('');\n\n  const ticketsCount = declint(orderDetails.seatsId.length, [\n    '%s билет',\n    '%s билета',\n    '%s билетов',\n  ]);\n\n  const handleSubmit = useCallback(() => {\n    payTickets(orderDetails.seanceId, orderDetails.seatsId);\n  }, []);\n\n  const showPaymentSuccessModal = useCallback(() => {\n    resetPaymentStatus();\n    closeModal();\n    showModal(MODAL.PAYMENT_SUCCESS);\n  }, []);\n\n  const showPaymentFailureModal = useCallback(() => {\n    showModal(MODAL.PAYMENT_FAILURE);\n  }, []);\n\n  useEffect(() => {\n    switch (paymentStatus) {\n      case STATUS.SUCCESS: {\n        showPaymentSuccessModal();\n        break;\n      }\n      case STATUS.ERROR: {\n        showPaymentFailureModal();\n        break;\n      }\n      case STATUS.REQUEST: {\n        break;\n      }\n      case STATUS.IDLE: {\n        break;\n      }\n      default: {\n        console.error('Unknown status ', paymentStatus);\n      }\n    }\n  }, [paymentStatus]);\n\n  return paymentStatus === STATUS.REQUEST ? (\n    <Spinner message='Идет оплата заказа' />\n  ) : (\n    <div className='tickets-payment-box'>\n      <header className='tickets-payment-header'>\n        <h1 className='tickets-payment-title'>Оплата билетов</h1>\n      </header>\n      <div className='tickets-info-box'>\n        <p className='tickets-info'>\n          {`= ${ticketsCount} ${\n            orderDetails.totalPrice\n          }${RUSSIAN_CURRENCY_SYMBOL}`}\n        </p>\n      </div>\n      <div className='payment-info-box'>\n        <Card\n          number={number}\n          name={name}\n          expiry={expiry}\n          cvc={cvc}\n          focused={focused}\n          className='card'\n          placeholders={{\n            name: 'IVAN IVANOV',\n          }}\n        />\n        <div className='form'>\n          <input\n            type='tel'\n            name='number'\n            maxLength={19}\n            className={classNames(\n              'form-input',\n              numberTouched && !numberValid && 'invalid',\n            )}\n            placeholder='Номер карты'\n            onChange={handleNumberChange}\n            onFocus={handleFocusChange}\n            onBlur={handleNumberBlur}\n          />\n          <input\n            type='text'\n            name='name'\n            className={classNames(\n              'form-input',\n              nameTouched && !nameValid && 'invalid',\n            )}\n            placeholder='IVAN IVANOV'\n            onChange={handleNameChange}\n            onFocus={handleFocusChange}\n            onBlur={handleNameBlur}\n          />\n          <input\n            type='tel'\n            name='expiry'\n            maxLength={5}\n            className={classNames(\n              'form-input',\n              expiryTouched && !expiryValid && 'invalid',\n            )}\n            placeholder='Срок действия'\n            onChange={handleExpiryChange}\n            onFocus={handleFocusChange}\n            onBlur={handleExpiryBlur}\n          />\n          <input\n            type='tel'\n            name='cvc'\n            maxLength={3}\n            className={classNames(\n              'form-input',\n              cvcTouched && !cvcValid && 'invalid',\n            )}\n            placeholder='CVC'\n            onChange={handleCvcChange}\n            onFocus={handleFocusChange}\n            onBlur={handleCvcBlur}\n          />\n        </div>\n      </div>\n      <div className='payment-actions'>\n        <Button\n          className={classNames('pay-btn', !allValid && 'disabled')}\n          onClick={handleSubmit}\n          disabled={!allValid}\n        >\n          Оплатить\n        </Button>\n      </div>\n    </div>\n  );\n}\n\nconst mapStateToProps = state => ({\n  paymentStatus: selectPaymentStatus(state),\n});\n\nconst mapDispatchToProps = {\n  showModal,\n  closeModal,\n  resetReservationStatus,\n  resetPaymentStatus,\n  payTickets: payTicketsRequest,\n};\n\nTicketsPaymentPage.propTypes = {\n  orderDetails: PropTypes.shape({\n    seanceId: PropTypes.string.isRequired,\n    seatsId: PropTypes.arrayOf(PropTypes.number).isRequired,\n    totalPrice: PropTypes.number.isRequired,\n  }),\n  showModal: PropTypes.func.isRequired,\n  closeModal: PropTypes.func.isRequired,\n};\n\nexport default connect(\n  mapStateToProps,\n  mapDispatchToProps,\n)(TicketsPaymentPage);\n","import { useState } from 'react';\n\nfunction useFocusState(initialValue) {\n  const [focused, setFocus] = useState(initialValue);\n\n  function handleFocusChange(event) {\n    setFocus(event.target.name);\n  }\n\n  return [focused, handleFocusChange];\n}\n\nexport { useFocusState };\n","import React, { useCallback } from 'react';\nimport PropTypes from 'prop-types';\nimport { connect } from 'react-redux';\n\nimport { Modal } from '../../../base-components/Modal';\nimport { TicketsPaymentPage } from '../TicketsPaymentPage';\nimport { resetPaymentStatus } from '../../../../ducks/data/tickets/actions';\nimport { closeModal } from '../../../../ducks/ui/modals/actions';\n\nfunction TicketsPaymentModal({\n  closeModal,\n  resetPaymentStatus,\n  ...ticketsPaymentPageProps\n}) {\n  const handleModalClose = useCallback(() => {\n    resetPaymentStatus();\n    closeModal();\n  }, []);\n\n  return (\n    <Modal onClose={handleModalClose}>\n      <TicketsPaymentPage {...ticketsPaymentPageProps} />\n    </Modal>\n  );\n}\n\nTicketsPaymentModal.propTypes = {\n  resetPaymentStatus: PropTypes.func.isRequired,\n  closeModal: PropTypes.func.isRequired,\n};\n\nconst mapDispatchToProps = {\n  resetPaymentStatus,\n  closeModal,\n};\n\nexport default connect(\n  null,\n  mapDispatchToProps,\n)(TicketsPaymentModal);\n","import React, { useState, useCallback, useEffect, useMemo } from 'react';\nimport { connect } from 'react-redux';\nimport PropTypes from 'prop-types';\nimport moment from 'moment/moment';\nimport { uniqueId } from 'lodash';\nimport classNames from 'classnames';\n\nimport {\n  getTodayDate,\n  getTomorrowDate,\n  toAppDateFormat,\n} from '../../../../utils/date';\n\nimport { Spinner } from '../../common/Spinner';\nimport { Button } from '../../../base-components/Button';\nimport { Tooltip } from '../../../base-components/Tooltip';\nimport { MODAL, RUSSIAN_CURRENCY_SYMBOL, STATUS } from '../../../../constants';\nimport { selectReservationStatus } from '../../../../ducks/data/tickets/selectors';\nimport { reserveTicketsRequest } from '../../../../ducks/data/tickets/actions';\nimport { closeModal, showModal } from '../../../../ducks/ui/modals/actions';\n\nimport hallScreen from '../../../../assets/images/cropped-screen.svg';\n\nimport './SeanceTicketsPage.scss';\n\nfunction SeanceTicketsPage({\n  id: seanceId,\n  movieName,\n  startTime,\n  hallScheme,\n  takenSeats,\n  reservedSeats,\n  reserveTickets,\n  reservationStatus,\n  closeModal,\n  showModal,\n}) {\n  const [selectedSeats, setSelectedSeats] = useState([]);\n  const selectSeat = useCallback((seatId, price) => {\n    const seatToSelect = {\n      id: seatId,\n      price,\n    };\n    setSelectedSeats(selectedSeats => selectedSeats.concat(seatToSelect));\n  }, []);\n\n  const unselectSeat = useCallback(seatId => {\n    setSelectedSeats(selectedSeats => {\n      const idxToRemoveAt = selectedSeats.findIndex(seat => seat.id === seatId);\n\n      if (idxToRemoveAt === -1) {\n        console.error(`Try to unselect not selected seat with id ${seatId} `);\n        return selectedSeats;\n      }\n\n      const newSelectedSeats = [...selectedSeats];\n      newSelectedSeats.splice(idxToRemoveAt, 1);\n\n      return newSelectedSeats;\n    });\n  }, []);\n\n  const seatsAreNotSelected = !selectedSeats.length;\n\n  const totalPrice = useMemo(() => {\n    return selectedSeats.reduce(\n      (totalPrice, seat) => (totalPrice += seat.price),\n      0,\n    );\n  }, [selectedSeats]);\n\n  const buyTickets = useCallback(() => {\n    const seatsId = selectedSeats.map(seat => seat.id);\n    reserveTickets(seanceId, seatsId);\n  }, [selectedSeats]);\n\n  const goToTicketsPayment = useCallback(() => {\n    closeModal();\n\n    const seatsId = selectedSeats.map(seat => seat.id);\n    const modalProps = { orderDetails: { seanceId, seatsId, totalPrice } };\n\n    showModal(MODAL.TICKETS_PAYMENT, modalProps);\n  }, [selectedSeats, totalPrice]);\n\n  const showReservationFailureModal = useCallback(() => {\n    setSelectedSeats([]);\n    showModal(MODAL.RESERVATION_FAILURE);\n  }, []);\n\n  useEffect(() => {\n    switch (reservationStatus) {\n      case STATUS.SUCCESS: {\n        goToTicketsPayment();\n        break;\n      }\n      case STATUS.ERROR: {\n        showReservationFailureModal();\n        break;\n      }\n      case STATUS.REQUEST: {\n        break;\n      }\n      case STATUS.IDLE: {\n        break;\n      }\n      default: {\n        console.error('Unknown status ', reservationStatus);\n      }\n    }\n  }, [reservationStatus]);\n\n  const today = getTodayDate();\n  const tomorrow = getTomorrowDate();\n  const seanceMoment = moment.unix(startTime);\n  const seanceDate = toAppDateFormat(seanceMoment);\n\n  let seanceDateAppearance = '';\n  switch (seanceDate) {\n    case today:\n      seanceDateAppearance = 'Сегодня';\n      break;\n    case tomorrow:\n      seanceDateAppearance = 'Завтра';\n      break;\n    default:\n      seanceDateAppearance = seanceMoment.format('DD MMMM');\n      break;\n  }\n  const seanceStartTimeAppearance = moment.unix(startTime).format('HH:mm');\n\n  return reservationStatus === STATUS.REQUEST ||\n    reservationStatus === STATUS.SUCCESS ? (\n      <Spinner message='Заказ резервируется' />\n  ) : (\n    <div className='seance-tickets-page-container'>\n      <div className='movie-title-box'>\n        <h1 className='movie-title'>{movieName}</h1>\n      </div>\n      <div className='seance-start-time-box'>\n        <p className='seance-start-time'>\n          {`${seanceDateAppearance} в ${seanceStartTimeAppearance}`}\n        </p>\n      </div>\n      <div className='hall-scheme-box'>\n        <object tabIndex={-1} data={hallScreen} style={{ width: '450px', height: '150px' }}>\n          <p>Screen</p>\n        </object>\n        {hallScheme.map(row => {\n          if (!row)\n            return <div key={uniqueId('empty-row')} className='empty-row' />;\n\n          return (\n            <div key={row.number} className='row'>\n              {row.seats.map((seat, idx) => {\n                if (!seat) return <div key={idx} className='empty-space' />;\n\n                const isAvailable =\n                  !takenSeats.includes(seat.id) &&\n                  !reservedSeats.includes(seat.id);\n                const isSelected = selectedSeats.find(\n                  selectedSeat => selectedSeat.id === seat.id,\n                );\n\n                return isAvailable ? (\n                  <div key={idx} className='seat-box'>\n                    <div\n                      className={\n                        isSelected ? 'selected-seat' : 'available-seat'\n                      }\n                      onClick={\n                        !isSelected\n                          ? () => selectSeat(seat.id, seat.price)\n                          : () => unselectSeat(seat.id)\n                      }\n                    >\n                      {seat.number}\n                      <Tooltip className='seat-tooltip'>\n                        <p className='seat-price'>\n                          {`${seat.price} ${RUSSIAN_CURRENCY_SYMBOL}`}\n                        </p>\n                        <p className='seat-position'>\n                          {`${row.number} ряд, ${seat.number} место`}\n                        </p>\n                      </Tooltip>\n                    </div>\n                  </div>\n                ) : (\n                  <div key={seat.id} className='seat-box'>\n                    <div className='not-available-seat' />\n                  </div>\n                );\n              })}\n            </div>\n          );\n        })}\n      </div>\n      <div className='tickets-purchase-box'>\n        {!seatsAreNotSelected && (\n          <p className='total-price'>{`${totalPrice} ${RUSSIAN_CURRENCY_SYMBOL}`}</p>\n        )}\n        <Button\n          className={classNames('buy-btn', seatsAreNotSelected && 'disabled')}\n          onClick={buyTickets}\n          disabled={seatsAreNotSelected}\n        >\n          Купить\n        </Button>\n      </div>\n    </div>\n  );\n}\n\nSeanceTicketsPage.propTypes = {\n  id: PropTypes.string.isRequired,\n  movieName: PropTypes.string.isRequired,\n  startTime: PropTypes.number.isRequired,\n  hallScheme: PropTypes.arrayOf(\n    PropTypes.shape({\n      number: PropTypes.number.isRequired,\n      seats: PropTypes.arrayOf(\n        PropTypes.shape({\n          number: PropTypes.number,\n          price: PropTypes.number,\n        }),\n      ),\n    }),\n  ).isRequired,\n  takenSeats: PropTypes.arrayOf(PropTypes.number).isRequired,\n  reservedSeats: PropTypes.arrayOf(PropTypes.number).isRequired,\n};\n\nconst mapStateToProps = state => ({\n  reservationStatus: selectReservationStatus(state),\n});\n\nconst mapDispatchToProps = {\n  closeModal,\n  showModal,\n  reserveTickets: reserveTicketsRequest,\n};\n\nexport default connect(\n  mapStateToProps,\n  mapDispatchToProps,\n)(SeanceTicketsPage);\n","import React, { useCallback } from 'react';\nimport PropTypes from 'prop-types';\nimport { connect } from 'react-redux';\n\nimport { Modal } from '../../../base-components/Modal';\nimport { SeanceTicketsPage } from '../SeanceTicketsPage';\nimport { closeModal } from '../../../../ducks/ui/modals/actions';\nimport { resetReservationStatus } from '../../../../ducks/data/tickets/actions';\n\nfunction SeanceTicketsModal({\n  resetReservationStatus,\n  closeModal,\n  ...seanceTicketsPageProps\n}) {\n  const handleModalClose = useCallback(() => {\n    resetReservationStatus();\n    closeModal();\n  }, []);\n\n  return (\n    <Modal onClose={handleModalClose}>\n      <SeanceTicketsPage {...seanceTicketsPageProps} />\n    </Modal>\n  );\n}\n\nSeanceTicketsModal.propTypes = {\n  closeModal: PropTypes.func.isRequired,\n  resetReservationStatus: PropTypes.func.isRequired,\n};\n\nconst mapDispatchToProps = {\n  closeModal,\n  resetReservationStatus,\n};\n\nexport default connect(\n  null,\n  mapDispatchToProps,\n)(SeanceTicketsModal);\n","import React from 'react';\n\nimport { StatusModal } from '../../common/StatusModal';\n\nimport sadnessIcon from '../../../../assets/images/sad-icon.svg';\n\nfunction PaymentFailureModal() {\n  return (\n    <StatusModal\n      statusMsg='Оплата не прошла\\nПопробуйте еще раз'\n      icon={sadnessIcon}\n      closeButtonLabel='Ок'\n    />\n  );\n}\n\nexport default PaymentFailureModal;\n","const selectModalsToShow = state => state.modals.modalsToShow;\n\nexport { selectModalsToShow };\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { connect } from 'react-redux';\n\nimport { ReservationFailureModal } from '../../app-components/seanceTickets/ReservationFailureModal';\nimport { NotAvailableAuthModal } from '../../app-components/auth/NotAvailableAuthModal';\nimport { PaymentSuccessModal } from '../../app-components/ticketsPayment/PaymentSuccessModal';\nimport { TicketsPaymentModal } from '../../app-components/ticketsPayment/TicketsPaymentModal';\nimport { SeanceTicketsModal } from '../../app-components/seanceTickets/SeanceTicketsModal';\nimport { PaymentFailureModal } from '../../app-components/ticketsPayment/PaymentFailureModal';\nimport { selectModalsToShow } from '../../../ducks/ui/modals/selectors';\nimport { MODAL } from '../../../constants';\n\nconst MODAL_COMPONENTS = {\n  [MODAL.SEANCE_TICKETS]: SeanceTicketsModal,\n  [MODAL.TICKETS_PAYMENT]: TicketsPaymentModal,\n  [MODAL.PAYMENT_SUCCESS]: PaymentSuccessModal,\n  [MODAL.NOT_AVAILABLE_AUTH]: NotAvailableAuthModal,\n  [MODAL.RESERVATION_FAILURE]: ReservationFailureModal,\n  [MODAL.PAYMENT_FAILURE]: PaymentFailureModal,\n};\n\nfunction ModalManager({ modalsToShow }) {\n  return (\n    <React.Fragment>\n      {modalsToShow.map(modal => {\n        const SpecificModalComponent = MODAL_COMPONENTS[modal.modalType];\n        return (\n          <SpecificModalComponent key={modal.modalType} {...modal.modalProps} />\n        );\n      })}\n    </React.Fragment>\n  );\n}\n\nModalManager.propTypes = {\n  modalsToShow: PropTypes.arrayOf(\n    PropTypes.shape({\n      modalType: PropTypes.oneOf([\n        MODAL.SEANCE_TICKETS,\n        MODAL.TICKETS_PAYMENT,\n        MODAL.PAYMENT_SUCCESS,\n        MODAL.NOT_AVAILABLE_AUTH,\n        MODAL.RESERVATION_FAILURE,\n        MODAL.PAYMENT_FAILURE,\n      ]).isRequired,\n      modalProps: PropTypes.object,\n    }).isRequired,\n  ).isRequired,\n};\n\nconst mapStateToProps = state => ({\n  modalsToShow: selectModalsToShow(state),\n});\n\nexport default connect(\n  mapStateToProps,\n  null,\n)(ModalManager);\n","import { useEffect } from 'react';\nimport PropTypes from 'prop-types';\nimport { withRouter } from 'react-router-dom';\n\nconst ScrollToTop = ({ children, location: { pathname } }) => {\n  useEffect(() => {\n    window.scrollTo(0, 0);\n  }, [pathname]);\n\n  return children;\n};\n\nScrollToTop.PropTypes = {\n  children: PropTypes.any.isRequired,\n  location: PropTypes.shape({\n    pathname: PropTypes.string.isRequired,\n  }),\n};\n\nexport default withRouter(ScrollToTop);\n","import React from 'react';\nimport PropTypes from 'prop-types';\n\nimport { NavBar } from '../navbar';\nimport { Routes } from '../routes';\nimport { ModalManager } from '../../base-components/ModalManager';\nimport ScrollToTop from '../../base-components/ScrollToTop/ScrollToTop';\n\nfunction App({ currentUser }) {\n  return (\n    <ScrollToTop>\n      <div className='app'>\n        <ModalManager />\n        <NavBar\n          currentUser={currentUser}\n          onLogout={() => {}}\n          onSettings={() => {}}\n        />\n        <div className='page'>\n          <Routes className='' />\n        </div>\n      </div>\n    </ScrollToTop>\n  );\n}\n\nApp.propTypes = {\n  currentUser: PropTypes.shape({\n    name: PropTypes.string.isRequired,\n    surname: PropTypes.string.isRequired,\n  }),\n};\n\nApp.defaultProps = {\n  currentUser: null,\n};\n\nexport default App;\n","import { FETCH_MOVIE, FETCH_MOVIES, FETCH_SEANCES } from './action-types';\n\nconst initialState = {\n  movies: null,\n  selectedMovie: null,\n  selectedMovieSeances: null,\n};\n\nexport const movies = (state = initialState, action) => {\n  switch (action.type) {\n    case FETCH_MOVIES.REQUEST: {\n      return {\n        ...state,\n        movies: null,\n      };\n    }\n    case FETCH_MOVIE.REQUEST: {\n      return {\n        ...state,\n        selectedMovie: null,\n      };\n    }\n    case FETCH_SEANCES.REQUEST: {\n      return {\n        ...state,\n        selectedMovieSeances: null,\n      };\n    }\n    case FETCH_MOVIES.SUCCESS: {\n      return {\n        ...state,\n        movies: action.movies,\n      };\n    }\n    case FETCH_MOVIE.SUCCESS: {\n      return {\n        ...state,\n        selectedMovie: action.movie,\n      };\n    }\n    case FETCH_SEANCES.SUCCESS: {\n      return {\n        ...state,\n        selectedMovieSeances: action.seances,\n      };\n    }\n    case FETCH_MOVIES.ERROR:\n    case FETCH_MOVIE.ERROR: {\n      return {\n        ...state,\n        error: action.error,\n      };\n    }\n    default: {\n      return state;\n    }\n  }\n};","import {\n  PAY_TICKETS,\n  RESERVE_TICKETS,\n  RESET_PAYMENT_STATUS,\n  RESET_RESERVATION_STATUS,\n} from './action-types';\n\nimport { STATUS } from '../../../constants';\n\nconst initialState = {\n  paymentStatus: STATUS.IDLE,\n  reservationStatus: STATUS.IDLE,\n};\n\nexport const tickets = (state = initialState, action) => {\n  switch (action.type) {\n    case RESERVE_TICKETS.REQUEST: {\n      return {\n        ...state,\n        reservationStatus: STATUS.REQUEST,\n      };\n    }\n    case RESERVE_TICKETS.SUCCESS: {\n      const reservationCancelled = state.reservationStatus === STATUS.IDLE;\n      return {\n        ...state,\n        reservationStatus: reservationCancelled ? STATUS.IDLE : STATUS.SUCCESS,\n      };\n    }\n    case RESERVE_TICKETS.ERROR: {\n      const reservationCancelled = state.reservationStatus === STATUS.IDLE;\n      return {\n        ...state,\n        reservationStatus: reservationCancelled ? STATUS.IDLE : STATUS.ERROR,\n      };\n    }\n    case RESET_RESERVATION_STATUS: {\n      return {\n        ...state,\n        reservationStatus: STATUS.IDLE,\n      };\n    }\n    case PAY_TICKETS.REQUEST: {\n      return {\n        ...state,\n        paymentStatus: STATUS.REQUEST,\n      };\n    }\n    case PAY_TICKETS.SUCCESS: {\n      const paymentCancelled = state.paymentStatus === STATUS.IDLE;\n      return {\n        ...state,\n        paymentStatus: paymentCancelled ? STATUS.IDLE : STATUS.SUCCESS,\n      };\n    }\n    case PAY_TICKETS.ERROR: {\n      return {\n        ...state,\n        paymentStatus: STATUS.ERROR,\n      };\n    }\n    case RESET_PAYMENT_STATUS: {\n      return {\n        ...state,\n        paymentStatus: STATUS.IDLE,\n      };\n    }\n    default: {\n      return state;\n    }\n  }\n};\n","import { CLOSE_MODAL, SHOW_MODAL } from './action-types';\n\nconst initialState = {\n  modalsToShow: [],\n};\n\nexport const modals = (state = initialState, action) => {\n  switch (action.type) {\n    case SHOW_MODAL: {\n      const modal = {\n        modalType: action.modalType,\n        modalProps: action.modalProps,\n      };\n      return {\n        ...state,\n        modalsToShow: [...state.modalsToShow, modal],\n      };\n    }\n    case CLOSE_MODAL: {\n      return {\n        ...state,\n        modalsToShow: state.modalsToShow.slice(\n          0,\n          state.modalsToShow.length - 1,\n        ),\n      };\n    }\n    default:\n      return state;\n  }\n};\n","import { combineReducers } from 'redux';\nimport { createBrowserHistory } from 'history';\nimport { connectRouter } from 'connected-react-router';\n\nimport { movies } from '../ducks/data/movies/reducer';\nimport { tickets } from '../ducks/data/tickets/reducer';\nimport { modals } from '../ducks/ui/modals/reducer';\n\nconst history = createBrowserHistory();\n\nconst rootReducer = combineReducers({\n  router: connectRouter(history),\n  movies,\n  modals,\n  tickets,\n});\n\nexport { history, rootReducer };\n","/* eslint-disable no-use-before-define */\nimport { uniqueId } from 'lodash';\nimport {\n  bindTimeToDayMoment,\n  getTodayDate,\n  getTomorrowDate,\n  momentToUnixTime,\n  toMoment,\n} from '../utils/date';\n\nconst daysWithSchedule = [getTodayDate(), getTomorrowDate()];\nexport function getMovies(date) {\n  return daysWithSchedule.includes(date) ? generateMoviesFor(date) : [];\n}\n\nexport function getMovie(id) {\n  if (!movies[id]) throw new NotFoundError('Movie with given id is not found');\n  return movies[id];\n}\n\nexport function getSeances(movieId, date) {\n  return daysWithSchedule.includes(date)\n    ? generateSeancesFor(toMoment(date), movieId)\n    : {};\n}\n\nfunction generateMoviesFor(day) {\n  const dayStartMoment = toMoment(day).startOf('day');\n\n  const generatedMovies = [];\n  Object.keys(movies).forEach(movieId => {\n    const movie = movies[movieId];\n    generatedMovies.push({\n      id: parseInt(movieId, 10),\n      ...movie,\n      seances: generateSeancesFor(dayStartMoment, movieId),\n    });\n  });\n\n  return generatedMovies;\n}\n\nfunction generateSeancesFor(dayStartMoment, movieId) {\n  const seanceStartTimes2D =\n    possibleSeanceStartTimes[movieId % possibleSeanceStartTimes.length];\n  const seanceStartTimes3D =\n    possibleSeanceStartTimes[(movieId + 1) % possibleSeanceStartTimes.length];\n\n  return {\n    '3D': generateSeancesAt(\n      seanceStartTimes3D\n        .map(time => bindTimeToDayMoment(time, dayStartMoment))\n        .map(momentToUnixTime),\n    ),\n    '2D': generateSeancesAt(\n      seanceStartTimes2D\n        .map(time => bindTimeToDayMoment(time, dayStartMoment))\n        .map(momentToUnixTime),\n    ),\n  };\n}\n\nfunction generateSeancesAt(seanceStartTimes) {\n  return seanceStartTimes.map((startTime, idx) => ({\n    id: uniqueId(),\n    startTime,\n    hallScheme,\n    price: getMinPrice(hallScheme),\n    takenSeats: possibleTakenSeats[idx % possibleTakenSeats.length],\n    reservedSeats: possibleReservedSeats[idx % possibleReservedSeats.length],\n  }));\n}\n\nclass NotFoundError extends Error {\n  constructor(message) {\n    super();\n    this.name = 'NotFoundError';\n    this.message = message;\n  }\n}\n\nfunction getMinPrice(hallScheme) {\n  return hallScheme.reduce((min, row) => {\n    return row\n      ? row.seats.reduce((min, seat) => {\n          return seat ? Math.min(min, seat.price) : min;\n        }, min)\n      : min;\n  }, Infinity);\n}\n\nconst hallScheme = [\n  {\n    number: 1,\n    seats: [\n      null,\n      { id: 1, number: 1, price: 200 },\n      { id: 2, number: 2, price: 200 },\n      { id: 3, number: 3, price: 200 },\n      null,\n      { id: 4, number: 4, price: 200 },\n      { id: 5, number: 5, price: 200 },\n      { id: 6, number: 6, price: 200 },\n      null,\n      { id: 7, number: 7, price: 200 },\n      { id: 8, number: 8, price: 200 },\n      { id: 9, number: 9, price: 200 },\n    ],\n  },\n  {\n    number: 2,\n    seats: [\n      null,\n      { id: 10, number: 1, price: 200 },\n      { id: 11, number: 2, price: 200 },\n      { id: 12, number: 3, price: 200 },\n      null,\n      { id: 13, number: 4, price: 200 },\n      { id: 14, number: 5, price: 200 },\n      { id: 15, number: 6, price: 200 },\n      null,\n      { id: 16, number: 7, price: 200 },\n      { id: 17, number: 8, price: 200 },\n      { id: 18, number: 9, price: 200 },\n    ],\n  },\n  {\n    number: 3,\n    seats: [\n      null,\n      { id: 19, number: 1, price: 200 },\n      { id: 20, number: 2, price: 200 },\n      { id: 21, number: 3, price: 200 },\n      null,\n      { id: 22, number: 4, price: 200 },\n      { id: 23, number: 5, price: 200 },\n      { id: 24, number: 6, price: 200 },\n      null,\n      { id: 25, number: 7, price: 200 },\n      { id: 26, number: 8, price: 200 },\n      { id: 27, number: 9, price: 200 },\n    ],\n  },\n  {\n    number: 4,\n    seats: [\n      null,\n      { id: 28, number: 1, price: 200 },\n      { id: 29, number: 2, price: 200 },\n      { id: 30, number: 3, price: 200 },\n      null,\n      { id: 31, number: 4, price: 200 },\n      { id: 32, number: 5, price: 200 },\n      { id: 33, number: 6, price: 200 },\n      null,\n      { id: 34, number: 7, price: 200 },\n      { id: 35, number: 8, price: 200 },\n      { id: 36, number: 9, price: 200 },\n    ],\n  },\n  null,\n  {\n    number: 5,\n    seats: [\n      { id: 37, number: 1, price: 250 },\n      { id: 38, number: 2, price: 250 },\n      { id: 39, number: 3, price: 250 },\n      { id: 40, number: 4, price: 250 },\n      { id: 41, number: 5, price: 250 },\n      { id: 42, number: 6, price: 250 },\n      { id: 43, number: 7, price: 250 },\n      { id: 44, number: 8, price: 250 },\n      { id: 45, number: 9, price: 250 },\n      { id: 46, number: 10, price: 250 },\n      { id: 47, number: 11, price: 250 },\n      { id: 48, number: 12, price: 200 },\n    ],\n  },\n];\n\nconst possibleTakenSeats = [\n  [3, 13, 17, 24, 26, 28, 30],\n  [39, 40, 43, 44, 46],\n  [16, 17, 18, 19],\n  [2, 3, 4, 5, 6],\n];\n\nconst possibleReservedSeats = [\n  [16, 17, 18, 19],\n  [2, 3, 4, 5, 6],\n  [3, 13, 24, 26, 28, 30],\n  [39, 40, 43, 44, 46],\n];\n\nconst possibleSeanceStartTimes = [\n  ['12:30', '14:30', '16:50', '17:50', '19:20'],\n  ['12:30', '14:30', '16:50', '17:50', '19:20'],\n  ['12:30', '14:30', '16:50', '17:50', '26:20'],\n];\n\nconst movies = {\n  1: {\n    id: 1,\n    name: 'Властелин колец',\n    description:\n      'Сказания о Средиземье — это хроника Великой войны за Кольцо, войны, длившейся не одну тысячу лет. Тот, кто владел Кольцом, получал власть над всеми живыми тварями, но был обязан служить злу. \\n' +\n      '\\n' +\n      'Тихая деревня, где живут хоббиты. Волшебник Гэндальф, придя на 111-й день рождения к своему старому другу Бильбо Бэггинсу, начинает вести разговор о кольце, которое Бильбо нашел много лет назад. Это кольцо принадлежало когда-то темному властителю Средиземья Саурону, и оно дает большую власть своему обладателю. Теперь Саурон хочет вернуть себе власть над Средиземьем. Бильбо отдает найденное кольцо своему племяннику Фродо, который пытается научиться справляться с тем страшным могуществом, которое дает ему кольцо…',\n    duration: 178,\n    genres: ['Фэнтези', 'Приключения'],\n    poster: 'https://www.kinopoisk.ru/images/film_big/328.jpg',\n    frames: [\n      {\n        description: 'Властелин колец',\n        url: 'https://www.kinopoisk.ru/images/film_big/328.jpg',\n      },\n      {\n        description: 'Властелин колец',\n        url:\n          'https://st.kp.yandex.net/im/kadr/1/5/3/kinopoisk.ru-The-Lord-of-the-Rings_3A-The-Fellowship-of-the-Ring-1530919.jpg',\n      },\n      {\n        description: 'Властелин колец',\n        url:\n          'https://st.kp.yandex.net/im/kadr/1/5/3/kinopoisk.ru-The-Lord-of-the-Rings_3A-The-Fellowship-of-the-Ring-1530934.jpg',\n      },\n      {\n        description: 'Властелин колец',\n        url:\n          'https://st.kp.yandex.net/im/kadr/1/5/3/kinopoisk.ru-The-Lord-of-the-Rings_3A-The-Fellowship-of-the-Ring-1530933.jpg',\n      },\n      {\n        description: 'Властелин колец',\n        url:\n          'https://st.kp.yandex.net/im/kadr/1/5/3/kinopoisk.ru-The-Lord-of-the-Rings_3A-The-Fellowship-of-the-Ring-1530932.jpg',\n      },\n      {\n        description: 'Властелин колец',\n        url:\n          'https://st.kp.yandex.net/im/kadr/1/5/3/kinopoisk.ru-The-Lord-of-the-Rings_3A-The-Fellowship-of-the-Ring-1530925.jpg',\n      },\n    ],\n  },\n  2: {\n    id: 2,\n    name: 'Хоббит: Битва пяти воинств',\n    description: `Когда отряд из тринадцати гномов нанимал хоббита Бильбо Бэгинса в качестве взломщика и четырнадцатого, «счастливого», участника похода к Одинокой горе, Бильбо полагал, что его приключения закончатся, когда он выполнит свою задачу — найдет сокровище, которое так необходимо предводителю гномов Торину. Путешествие в Эребор, захваченное драконом Смаугом королевство гномов, оказалось еще более опасным, чем предполагали гномы и даже Гэндальф — мудрый волшебник, протянувший Торину и его отряду руку помощи.\n\nВ погоню за гномами устремилась армия орков, ведомых пробудившимся в руинах древним злом, а эльфы и люди, с которыми Бильбо и его товарищам пришлось иметь дело во время путешествия и которые пострадали от последствий желания гномов вернуть свой дом, предъявили права на щедрое вознаграждение — часть сокровищ Одинокой горы. Скоро неподалеку от Одинокой горы встретятся пять армий, и лишь кровопролитная битва определит результаты смелого гномьего похода.`,\n    duration: 205,\n    genres: ['Фэнтези', 'Приключения'],\n    poster: 'https://www.kinopoisk.ru/images/film_big/694633.jpg',\n    frames: [\n      {\n        description: 'Хоббит: Битва пяти воинств',\n        url: 'https://www.kinopoisk.ru/images/film_big/694633.jpg',\n      },\n      {\n        description: 'Хоббит: Битва пяти воинств',\n        url:\n          'https://st.kp.yandex.net/im/kadr/2/5/4/kinopoisk.ru-The-Hobbit_3A-The-Battle-of-the-Five-Armies-2545681.jpg',\n      },\n      {\n        description: 'Хоббит: Битва пяти воинств',\n        url:\n          'https://st.kp.yandex.net/im/kadr/2/5/4/kinopoisk.ru-The-Hobbit_3A-The-Battle-of-the-Five-Armies-2545680.jpg',\n      },\n      {\n        description: 'Хоббит: Битва пяти воинств',\n        url:\n          'https://st.kp.yandex.net/im/kadr/2/5/4/kinopoisk.ru-The-Hobbit_3A-The-Battle-of-the-Five-Armies-2545678.jpg',\n      },\n      {\n        description: 'Хоббит: Битва пяти воинств',\n        url:\n          'https://st.kp.yandex.net/im/kadr/2/5/4/kinopoisk.ru-The-Hobbit_3A-The-Battle-of-the-Five-Armies-2545677.jpg',\n      },\n      {\n        description: 'Хоббит: Битва пяти воинств',\n        url:\n          'https://st.kp.yandex.net/im/kadr/2/5/4/kinopoisk.ru-The-Hobbit_3A-The-Battle-of-the-Five-Armies-2545676.jpg',\n      },\n    ],\n  },\n  3: {\n    id: 3,\n    name: 'Железное небо',\n    description:\n      '\\n' +\n      '70 лет назад недобитые нацисты улетели на Луну. Теперь, когда их гигантский флот возмездия почти достроен, они решили устроить Земле новый блицкриг. Тем временем президент США готова на всё, чтобы пойти на второй срок — даже развязать в космосе войну за природные ресурсы; а тщеславный офицер Четвертого рейха Клаус задумал предать фюрера и заполучить власть над Землёй. Боевые цеппелины уже вышли на орбиту, земные города под прицелом. Похоже, мира хотят только двое: наивная учительница с Луны Ренате и бывший астронавт Джеймс Вашингтон.',\n    duration: 229,\n    genres: ['Фантастика', 'Боевик', 'Комедия'],\n    poster:\n      'https://st.kp.yandex.net/im/poster/2/2/2/kinopoisk.ru-Iron-Sky-2227391.jpg',\n    frames: [\n      {\n        description: 'Железное небо',\n        url:\n          'https://st.kp.yandex.net/im/poster/2/2/2/kinopoisk.ru-Iron-Sky-2227391.jpg',\n      },\n      {\n        description: 'Железное небо',\n        url:\n          'https://st.kp.yandex.net/im/kadr/1/8/4/kinopoisk.ru-Iron-Sky-1844974.jpg',\n      },\n      {\n        description: 'Железное небо',\n        url:\n          'https://st.kp.yandex.net/im/kadr/1/8/4/kinopoisk.ru-Iron-Sky-1844973.jpg',\n      },\n      {\n        description: 'Железное небо',\n        url:\n          'https://st.kp.yandex.net/im/kadr/1/8/4/kinopoisk.ru-Iron-Sky-1844970.jpg',\n      },\n      {\n        description: 'Железное небо',\n        url:\n          'https://st.kp.yandex.net/im/kadr/1/8/6/kinopoisk.ru-Iron-Sky-1864548.jpg',\n      },\n      {\n        description: 'Железное небо',\n        url:\n          'https://st.kp.yandex.net/im/kadr/1/8/9/kinopoisk.ru-Iron-Sky-1894592.jpg',\n      },\n      {\n        description: 'Железное небо',\n        url:\n          'https://st.kp.yandex.net/im/kadr/1/8/6/kinopoisk.ru-Iron-Sky-1864546.jpg',\n      },\n    ],\n  },\n  4: {\n    id: 4,\n    name: 'Видоизмененный углерод',\n    description:\n      'Земля, XXVII век. Мир, в котором появилась возможность «сгружать» человеческое сознание и личность из одного тела в другое. Идеальный мир и для преступников, и для полицейских, и для армии, но вряд ли идеальный для бывшего военного спецназовца и бывшего повстанца Такеси Ковача, которого миллиардер Бэнкрофт нанял для расследования гибели одного из своих тел. Внешне — явное самоубийство, но Бэнкрофт считает себя неспособным на такой поступок, а воспоминания о последних минутах жизни уничтожены метким выстрелом в запоминающее устройство.',\n    duration: 229,\n    genres: ['Фантастика', 'Боевик'],\n    poster: 'https://www.kinopoisk.ru/images/film_big/669089.jpg',\n    frames: [\n      {\n        description: 'Видоизмененный углерод',\n        url: 'https://www.kinopoisk.ru/images/film_big/669089.jpg',\n      },\n      {\n        description: 'Видоизмененный углерод',\n        url:\n          'https://st.kp.yandex.net/im/kadr/3/0/8/kinopoisk.ru-Altered-Carbon-3089561.jpg',\n      },\n      {\n        description: 'Видоизмененный углерод',\n        url:\n          'https://st.kp.yandex.net/im/kadr/3/2/1/kinopoisk.ru-Altered-Carbon-3216791.jpg',\n      },\n      {\n        description: 'Видоизмененный углерод',\n        url:\n          'https://st.kp.yandex.net/im/kadr/3/2/1/kinopoisk.ru-Altered-Carbon-3216789.jpg',\n      },\n      {\n        description: 'Видоизмененный углерод',\n        url:\n          'https://st.kp.yandex.net/im/kadr/3/2/1/kinopoisk.ru-Altered-Carbon-3216790.jpg',\n      },\n      {\n        description: 'Видоизмененный углерод',\n        url:\n          'https://st.kp.yandex.net/im/kadr/3/1/2/kinopoisk.ru-Altered-Carbon-3121337.jpg',\n      },\n      {\n        description: 'Видоизмененный углерод',\n        url:\n          'https://st.kp.yandex.net/im/kadr/3/1/2/kinopoisk.ru-Altered-Carbon-3121340.jpg',\n      },\n    ],\n  },\n  6: {\n    id: 6,\n    name: 'Игра престолов',\n    description:\n      'К концу подходит время благоденствия, и лето, длившееся почти десятилетие, угасает. Вокруг средоточия власти Семи королевств, Железного трона, зреет заговор, и в это непростое время король решает искать поддержки у друга юности Эддарда Старка. В мире, где все — от короля до наемника — рвутся к власти, плетут интриги и готовы вонзить нож в спину, есть место и благородству, состраданию и любви. Между тем, никто не замечает пробуждение тьмы из легенд далеко на Севере — и лишь Стена защищает живых к югу от нее.',\n    duration: 218,\n    genres: ['Фэнтези', 'Боевик', 'Драма'],\n    poster: 'https://www.kinopoisk.ru/images/film_big/464963.jpg',\n    frames: [\n      {\n        description: 'Игра престолов',\n        url: 'https://www.kinopoisk.ru/images/film_big/464963.jpg',\n      },\n      {\n        description: 'Игра престолов',\n        url:\n          'https://st.kp.yandex.net/im/kadr/2/7/7/kinopoisk.ru-Game-of-Thrones-2777019.jpg',\n      },\n      {\n        description: 'Игра престолов',\n        url:\n          'https://st.kp.yandex.net/im/kadr/2/7/8/kinopoisk.ru-Game-of-Thrones-2786695.jpg',\n      },\n      {\n        description: 'Игра престолов',\n        url:\n          'https://st.kp.yandex.net/im/kadr/3/0/3/kinopoisk.ru-Game-of-Thrones-3030604.jpg',\n      },\n      {\n        description: 'Игра престолов',\n        url:\n          'https://st.kp.yandex.net/im/kadr/3/0/1/kinopoisk.ru-Game-of-Thrones-3019199.jpg',\n      },\n      {\n        description: 'Игра престолов',\n        url:\n          'https://st.kp.yandex.net/im/kadr/3/0/1/kinopoisk.ru-Game-of-Thrones-3011410.jpg',\n      },\n    ],\n  },\n  7: {\n    id: 7,\n    name: 'Мстители: Финал',\n    description:\n      'Оставшиеся в живых члены команды Мстителей и их союзники должны разработать новый план, который поможет противостоять разрушительным действиям могущественного титана Таноса. После наиболее масштабной и трагической битвы в истории они не могут допустить ошибку.',\n    duration: 183,\n    genres: ['Фантастика', 'Боевик'],\n    poster: 'https://www.kinopoisk.ru/images/film_big/843650.jpg',\n    frames: [\n      {\n        description: 'Мстители: Финал',\n        url: 'https://www.kinopoisk.ru/images/film_big/843650.jpg',\n      },\n    ],\n  },\n  8: {\n    id: 8,\n    name: 'Мстители',\n    description: `Локи, сводный брат Тора, возвращается, и в этот раз он не один. Земля на грани порабощения, и только лучшие из лучших могут спасти человечество.\n\nНик Фьюри, глава международной организации Щ. И. Т., собирает выдающихся поборников справедливости и добра, чтобы отразить атаку. Под предводительством Капитана Америки Железный Человек, Тор, Невероятный Халк, Соколиный глаз и Чёрная Вдова вступают в войну с захватчиком.`,\n    duration: 93,\n    genres: ['Фантастика', 'Боевик'],\n    poster: 'https://www.kinopoisk.ru/images/film_big/263531.jpg',\n    frames: [\n      {\n        description: 'Мстители',\n        url: 'https://www.kinopoisk.ru/images/film_big/263531.jpg',\n      },\n    ],\n  },\n  9: {\n    id: 9,\n    name: 'Терминатор',\n    description:\n      'История противостояния солдата Кайла Риза и киборга-терминатора, прибывших в 1984-й год из пост-апокалиптического будущего, где миром правят машины-убийцы, а человечество находится на грани вымирания. Цель киборга: убить девушку по имени Сара Коннор, чей ещё нерождённый сын к 2029 году выиграет войну человечества с машинами. Цель Риза: спасти Сару и остановить Терминатора любой ценой.',\n    duration: 85,\n    genres: ['Фантастика', 'Боевик', 'Триллер'],\n    poster: 'https://www.kinopoisk.ru/images/film_big/507.jpg',\n    frames: [\n      {\n        description: 'Терминатор',\n        url: 'https://www.kinopoisk.ru/images/film_big/507.jpg',\n      },\n    ],\n  },\n  10: {\n    id: 10,\n    name: 'Терминатор 2: Судный день',\n    description: `Прошло более десяти лет с тех пор, как киборг-терминатор из 2029 года пытался уничтожить Сару Коннор — женщину, чей будущий сын выиграет войну человечества против машин.\n\nТеперь у Сары родился сын Джон и время, когда он поведёт за собой выживших людей на борьбу с машинами, неумолимо приближается. Именно в этот момент из постапокалиптического будущего прибывает новый терминатор — практически неуязвимый и способный принимать любое обличье. Цель нового терминатора уже не Сара, а уничтожение молодого Джона Коннора.\n\nОднако шансы Джона на спасение существенно повышаются, когда на помощь приходит перепрограммированный сопротивлением терминатор предыдущего поколения. Оба киборга вступают в смертельный бой, от исхода которого зависит судьба человечества.`,\n    duration: 157,\n    genres: ['Фантастика', 'Боевик', 'Триллер'],\n    poster: 'https://www.kinopoisk.ru/images/film_big/444.jpg',\n    frames: [\n      {\n        description: 'Терминатор 2: Судный день',\n        url: 'https://www.kinopoisk.ru/images/film_big/444.jpg',\n      },\n    ],\n  },\n  11: {\n    id: 11,\n    name: 'Терминатор 3: Восстание машин',\n    description: `Прошло десять лет с тех пор, как Джон Коннор помог предотвратить Судный День и спасти человечество от массового уничтожения. Теперь ему 25, Коннор не живет «как все» — у него нет дома, нет кредитных карт, нет сотового телефона и никакой работы.\n\nЕго существование нигде не зарегистрировано. Он не может быть прослежен системой Skynet — высокоразвитой сетью машин, которые когда-то попробовали убить его и развязать войну против человечества. Пока из теней будущего не появляется T-X — Терминатрикс, самый сложный киборг-убийца Skynet.\n\nПосланная назад сквозь время, чтобы завершить работу, начатую её предшественником, T-1000, эта машина так же упорна, как прекрасен её человеческий облик. Теперь единственная надежда Коннору выжить — Терминатор, его таинственный прежний убийца. Вместе они должны одержать победу над новыми технологиями T-X и снова предотвратить Судный День…`,\n    duration: 60,\n    genres: ['Фантастика', 'Боевик', 'Триллер'],\n    poster: 'https://www.kinopoisk.ru/images/film_big/319.jpg',\n    frames: [\n      {\n        description: 'Терминатор 3: Восстание машин',\n        url: 'https://www.kinopoisk.ru/images/film_big/319.jpg',\n      },\n    ],\n  },\n};\n","import { getMovie, getMovies, getSeances } from '../../../mocks/movies';\n\nfunction fetchMovies(date) {\n  return new Promise(resolve => {\n    setTimeout(() => resolve(getMovies(date)), 1000);\n  });\n}\n\nfunction fetchMovie(id) {\n  return new Promise(resolve => {\n    setTimeout(() => resolve(getMovie(id)), 1000);\n  });\n}\n\nfunction fetchSeances(movieId, date) {\n  return new Promise(resolve => {\n    setTimeout(() => resolve(getSeances(movieId, date)), 1000);\n  });\n}\n\nexport { fetchMovies, fetchMovie, fetchSeances };","import {\n  all,\n  call,\n  takeLatest,\n  put,\n} from 'redux-saga/dist/redux-saga-effects-npm-proxy.esm';\n\nimport {\n  fetchMovieError,\n  fetchMoviesError,\n  fetchMoviesSuccess,\n  fetchMovieSuccess,\n  fetchSeancesError,\n  fetchSeancesSuccess,\n} from './actions';\n\nimport { FETCH_MOVIE, FETCH_MOVIES, FETCH_SEANCES } from './action-types';\nimport * as services from './services';\n\nfunction* fetchMovies({ date }) {\n  try {\n    const movies = yield call(services.fetchMovies, date);\n    yield put(fetchMoviesSuccess(movies));\n  } catch (e) {\n    yield put(fetchMoviesError(e));\n  }\n}\n\nfunction* fetchMovie({ id }) {\n  try {\n    const movie = yield call(services.fetchMovie, id);\n    yield put(fetchMovieSuccess(movie));\n  } catch (e) {\n    yield put(fetchMovieError(e));\n  }\n}\n\nfunction* fetchSeances({ movieId, date }) {\n  try {\n    const seances = yield call(services.fetchSeances, movieId, date);\n    yield put(fetchSeancesSuccess(seances));\n  } catch (e) {\n    yield put(fetchSeancesError(e));\n  }\n}\n\nexport function* watchMoviesRequests() {\n  yield all([\n    takeLatest(FETCH_MOVIES.REQUEST, fetchMovies),\n    takeLatest(FETCH_MOVIE.REQUEST, fetchMovie),\n    takeLatest(FETCH_SEANCES.REQUEST, fetchSeances),\n  ]);\n}\n","export function reserveTicketsRequest(seanceId, seatsId) {\n  return new Promise(resolve => {\n    setTimeout(() => {\n      resolve([seanceId, seatsId]);\n    }, 1000);\n  });\n}\n\nexport function payTicketsRequest(seanceId, seatsId) {\n  return new Promise(resolve => {\n    setTimeout(() => {\n      resolve([seanceId, seatsId]);\n    }, 1000);\n  });\n}\n","import { all, call, takeLatest, put } from 'redux-saga/effects';\n\nimport {\n  payTicketsError,\n  payTicketsSuccess,\n  reserveTicketsError,\n  reserveTicketsSuccess,\n} from './actions';\nimport { PAY_TICKETS, RESERVE_TICKETS } from './action-types';\nimport * as services from './services';\n\nfunction* reserveTickets({ seanceId, seatsId }) {\n  try {\n    const [reservedSeanceId, reservedSeatsId] = yield call(\n      services.reserveTicketsRequest,\n      seanceId,\n      seatsId,\n    );\n    yield put(reserveTicketsSuccess(reservedSeanceId, reservedSeatsId));\n  } catch (e) {\n    yield put(reserveTicketsError());\n  }\n}\n\nfunction* payTickets({ seanceId, seatsId }) {\n  try {\n    const [payedSeanceId, payedSeatsId] = yield call(\n      services.payTicketsRequest,\n      seanceId,\n      seatsId,\n    );\n    yield put(payTicketsSuccess(payedSeanceId, payedSeatsId));\n  } catch (e) {\n    yield put(payTicketsError(e));\n  }\n}\n\nexport function* watchTicketsRequests() {\n  yield all([\n    takeLatest(RESERVE_TICKETS.REQUEST, reserveTickets),\n    takeLatest(PAY_TICKETS.REQUEST, payTickets),\n  ]);\n}\n","import { all, call } from 'redux-saga/effects';\nimport { watchMoviesRequests } from '../ducks/data/movies/sagas';\nimport { watchTicketsRequests } from '../ducks/data/tickets/sagas';\n\nexport default function* rootSaga() {\n  yield all([call(watchMoviesRequests), call(watchTicketsRequests)]);\n}\n","import createSagaMiddleware from 'redux-saga';\n\nimport { applyMiddleware, createStore } from 'redux';\nimport { routerMiddleware } from 'connected-react-router';\nimport { composeWithDevTools } from 'redux-devtools-extension/developmentOnly';\n\nimport { rootReducer, history } from './rootReducer';\nimport rootSaga from './rootSaga';\n\nconst navigationMiddleware = routerMiddleware(history);\nconst sagaMiddleware = createSagaMiddleware();\nconst initialState = {};\n\nconst store = createStore(\n  rootReducer,\n  initialState,\n  composeWithDevTools(applyMiddleware(navigationMiddleware, sagaMiddleware)),\n);\n\nsagaMiddleware.run(rootSaga);\n\nexport { store };\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { ConnectedRouter } from 'connected-react-router';\nimport { Provider } from 'react-redux';\nimport moment from 'moment';\n\nimport { App } from './components/app-components/app';\nimport { history } from './store/rootReducer';\nimport { store } from './store/store';\n\nimport './assets/scss/reset.scss';\nimport './assets/scss/main.scss';\nimport './index.scss';\n\nmoment.locale('ru');\n\nconst nominative_months = [\n  'Январь',\n  'Февраль',\n  'Март',\n  'Апрель',\n  'Май',\n  'Июнь',\n  'Июль',\n  'Август',\n  'Сентябрь',\n  'Октябрь',\n  'Ноябрь',\n  'Декабрь',\n];\n\nconst subjective_months = [\n  'Января',\n  'Февраля',\n  'Мара',\n  'Апреля',\n  'Мая',\n  'Июня',\n  'Июля',\n  'Августа',\n  'Сентября',\n  'Октября',\n  'Ноября',\n  'Декабря',\n];\n\nmoment.updateLocale('ru', {\n  months(momentToFormat, format) {\n    if (/^MMMM/.test(format)) {\n      return nominative_months[momentToFormat.month()];\n    }\n    return subjective_months[momentToFormat.month()];\n  },\n  weekdaysShort: ['Вс', 'Пн', 'Вт', 'Ср', 'Чт', 'Пт', 'Сб'],\n  weekdaysMin: ['Вс', 'Пн', 'Вт', 'Ср', 'Чт', 'Пт', 'Сб'],\n});\n\nReactDOM.render(\n  <Provider store={store}>\n    <ConnectedRouter history={history}>\n      <App />\n    </ConnectedRouter>\n  </Provider>,\n  document.getElementById('root'),\n);\n\n"],"sourceRoot":""}